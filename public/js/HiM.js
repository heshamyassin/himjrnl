/*!
 *
 * HiM is a men lifestyle journal, issued on monthly basis, to cover all subjects of interest of the
 * modern-age rugged gentleman all over the world; from travel, business, entertainment, entrepreneurship,
 * finance, fashion, skills, gadgets and a lot more
 *
 * EDITOR IN CHIEF. Hesham Yasein. heshamgyassin@gmail.com
 *
 * All rights reserved to HiM 2023 (C)
 *
 * License:
 * This code is based on turnjs - http://turnjs.com
 * Copyright (C) 2012 Emmanuel Garcia
 * The turn.js project is released under the BSD license and it's available on GitHub.
 * This license doesn't include features of the 4th release.
 *
 * wavesurfer.js 5.0.1 (2021-05-05)
 * https://wavesurfer-js.org
 * @license BSD-3-Clause
 *
 *
 * Opinions expressed are solely those of the contributors.
 * No part of this magazine may be reproduced or transmitted in any form or by any means without a written
 * permission of the publisher.
 *
 */

/* TODO:
 * / 1. Move sideMenuButton and addThumb from HiM mobile menu to magazine.js
 * / 2. Add more controls to magazine Thumb (e.g. download PDF, back to Archive, ...)
 * / 3. adjust Thumbnails on Desktop version
 * / 4. Logo click goes to Home
 * / 5. Logo in footer (Logo, Menu Items, Contact Us, in all pages)
 * / 6. adjust Archive
 * / 7. Controls need to be in a separate div in both mobile and desktop menus
 * / 8. Build a Home
 **** / 1. Latest Featured
 **** X 2. Shop advertisement
 **** / 3. Newsletter
 **** / 4. HiM Club
 **** X 5. Category Highlight
 **** / 6. Latest Magazine & Past Editions
 **** X 7. Podcasts
 **** X 8. Videos
 * / 9. something is adding 0.5*magazineWidth to CSS Left on mobile
 * X 10. toggleSidePanelMenu hides/shows Controls on mobile
 * / 11. controls div below thumbnails menu
 * / 12. magazine.html for mobile
 * / 13. Further readings in editorial article need to get data from json
 * / 14. Load shop in editorial article from js in case of json has shop, otherwise n/a
 * / 15. Categories pages (/ Style, / Header Bottom Border, / Load More, Font, Sections, ...)
 **** / 1. Category Highlight
 **** / 2. Newsletter
 **** / 3. HiM Club
 **** / 4. Latest Magazine & Past Editions
 * / 16. article href in further readings, home and category pages
 * 17. Make sure mobile menu works perfectly
 * X 18. Home scroll is not smooth when there is featuredCategory Background
 * / 19. Categories in Home has a link to category page
 * / 20. Generate latest json, page, sorted articles by date
 * / 21. prepareFeaturedContent() shall take content from 1st item of Latest json, and
 * / 22. change the backgroundImage accordingly
 * / 23. featuredContent in all pages take from JS
 * / 24. JS add wp_content_x, consider all classes
 * / 25. Share in article shareBTN()
 * X 26. Editorial Menu
 * / 27. Build HiM Club Page
 * -- 28. Build Under Construction, About Us, Contact Us, Newsletter and / Login Page
 * / 29. Magazine to take from JSON
 * -- 30. Newsletter send e-mail and register to JSON file
 **** / 1. Send e-mail by auth client :()
 **** / 2. Publish to all pages
 **** / 3. Validate input
 **** / 4. JS from Form Input
 **** / 5. POST newsletter subscriber to Github either Secrets or newsletter file
 **** -- 6. Newsletter email templates (/ welcome, -- monthly, HiMClub, Magazine Edition Introduction)
 **** / 7. Check if email is already registered, then skip
 **** -- 8. Publish WebApp
 **** -- 9. Unsubscribe from newsletter (work on parseUrl())
 **** X 10. newsletter subscribers to stripe, instead of github (5)
 		--> doesn't work if the newsletter subscriber is not a stripe customer
		--> instead, register the stripe customers who checked newsletter subscription to github json
 **** -- 11. send newsletter e-mail (8)
 * / 31. Add Pinterest, YouTube, Meetup
 * -- 32. / Subscribe, / stripe session retrieval, / check subscription status on login, and -- redirect to subscription update/profile in case of unscubscribed
 * / 33. Profile, update stripe billing info
 * / 34. if address or any element is null, there is a problem in profile -> dispatchedLoginEvent > prepareProfile
 * -- 35. onLoad, check if the customer is loggedin
 * / 36. activate members-only features, subscribeRow.show()
 * / 37. profile picture, profile styling
 * / 38. editorial article link to editorial category
 * 39. readFile > reference needs to replace public with ''
 */

// const domain = window.location.protocol +'//' + window.location.href.split('/')[2] + '/' + window.location.href.split('/')[3] + '/' + window.location.href.split('/')[4] + '/' + window.location.href.split('/')[5] + '/' + window.location.href.split('/')[6] + '/' + window.location.href.split('/')[7] + '/' + window.location.href.split('/')[8];
// const domain = window.location.protocol +'//' + window.location.href.split('/')[2];
const domain = window.location.protocol + '//' + window.location.host;
var membersOnlyActivated = false;

async function loadMainApp() {
	let documentPath = window.location.href;
	
	if (window.location.pathname === '/' || window.location.pathname === '') {
		documentPath = domain + '/index.html';
	} else {
		documentPath = domain + window.location.pathname;
	}
	
	initializeMagazine();

	loadHiMClub(false);

	importLatest();

	parseUrl();
	
	// Resize Viewport
	$(window).resize(function() {
		resizeViewport();
	}).bind('orientationchange', function() {
		resizeViewport();
	});
  
	if (documentPath == domain || documentPath.substring(documentPath.lastIndexOf('/')+1) == 'index.html') {
		prepareEditorialCategories();
	} else {
		/* Do nothing */
	}

	if ((localStorage.getItem('customerLoggedIn') == false) || (localStorage.getItem('customerLoggedIn') == null)) {
		/* Trigger Customer Logout */
		membersOnlyActivated = false;
	} else { /* Customer is Loggedin */
		/* Retrieve subscriptions */
		membersOnlyActivated = true;
	}
}

function initializeMagazine() {
	loadMenu();

	loadNewsletterRow();

	loadFooter();
}

function loadMenu() {
	var topPanel = document.getElementById('topPanel'),
	topPanelMenu = document.getElementById('topPanelMenu'),
	deviceWidth = $(window).width(),
	responsiveViewTreshold = 768;

	let documentPath = window.location.href;
	
	if (window.location.pathname === '/' || window.location.pathname === '') {
		documentPath = domain + '/index.html';
	} else {
		documentPath = domain + window.location.pathname;
	}
	
	if (deviceWidth <= responsiveViewTreshold) {
		// remove the topPanel and its contents
		topPanel.innerHTML = "";
		mobileMenu(topPanel);
	} else {
		// remove the topPanel and its contents
		topPanel.innerHTML = "";
		desktopMenu(topPanel, topPanelMenu);
	}

	if (documentPath == domain || documentPath.substring(documentPath.lastIndexOf('/')+1) == 'index.html') {
		topPanel.style.backgroundColor = "transparent";
		topPanelMenu.style.backgroundColor = "transparent";
	} else {
		topPanel.style.backgroundColor = "#111F4A";
		topPanelMenu.style.backgroundColor = "#111F4A";
	}

	addSideMenu();
}

function mobileMenu(topPanel) {
	var topPanelMenu = document.getElementById("topPanelMenu");
	topPanelMenu.style.display = "none";
	
	var spanSideMenu = $('<span id="mobileMenuSpan" class="top-thumb" style="justify-content:left;"/>', {id:"", class:""});
	var spanSideMenuContent = $(' \
	<a title="Menu" style="display:inline-flex;align-items:center;" class="top-share" onClick="toggleSideMenuPanel()"> \
	<i id="sideMenuButton" class="fa fa-bars" style="display:inline-flex;align-items:center;"/></a> \
	', {id:"", class:""});
	spanSideMenuContent.appendTo(spanSideMenu);
	spanSideMenu.appendTo(topPanel);
	
	/* style="transform: translateY(-45%)" */
	var spanLogo = $('<span class="spanLogo" style="cursor:pointer; justify-content:center;" onclick="logoGoToHome()"/>', {id:"", class:""});
	var spanLogoContent = $('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,62,62" style="height:62px;z-index:1;" overflow="visible"> \
		<g> \
			<path d="M0,0M0,0M22.85868978,29.83151605 C22.85868978,29.83151605,21.52922129,31.58355775,21.52922129,31.58355775 C21.52922129,31.58355775,19.55543668,32.97151789,19.55543668,32.97151789 C19.55543668,32.97151789,19.37171059,33.38687951,19.37171059,33.38687951 C19.37171059,33.38687951,18.95542033,33.78584687,18.95542033,33.78584687 C18.95542033,33.78584687,17.69953346,34.75626669,17.69953346,34.75626669 C17.69953346,34.75626669,15.30948331,36.54282677,15.30948331,36.54282677 C15.30948331,36.54282677,13.69365569,37.24190361,13.53234178,38.1494594 C13.53234178,38.1494594,13.58812107,38.80730234,13.58812107,38.80730234 C13.58812107,38.80730234,13.24883216,40.53948291,13.24883216,40.53948291 C13.24883216,40.53948291,12.56772581,44.37140008,12.56772581,44.37140008 C12.20218348,46.16295049,12.06913073,47.97149915,11.81566829,49.75081415 C11.67937712,50.78268638,11.43926741,51.8684526,11.41502225,52.88818264 C11.41502225,52.88818264,11.45615118,54.42344312,11.3640034,55.2951988 C10.88913343,59.20348303,10.1984039,63.17756418,9.84397297,67.11522605 C9.56623624,69.91412611,9.05562493,75.65675256,6.18868854,76.85834576 C4.62069944,77.52688348,3.07463966,76.94306336,2.01048471,75.68243579 C1.21010575,74.71139984,0.3782954,73.03602902,0.05967971,71.64461395 C0.05967971,71.64461395,0,70.57655989,0,70.57655989 C0.33075256,69.76443906,1.4095281,70.76264106,1.4095281,70.76264106 C2.52261602,71.74294509,3.59038982,73.06723782,4.99127846,73.57822372 C4.99127846,73.57822372,5.79113447,73.7590662,6.07283441,72.88080265 C6.67917429,71.14788826,6.91724141,69.10185714,7.01574996,67.31102397 C7.31312627,62.89963309,7.79162671,58.44004915,8.27045177,53.98039646 C8.71453108,49.53867997,9.08111373,45.09129808,9.86143339,40.61287231 C9.86143339,40.61287231,8.15598651,41.81614879,8.15598651,41.81614879 C8.15598651,41.81614879,7.02888785,42.85720699,7.02888785,42.85720699 C7.02888785,42.85720699,4.82132516,44.41214516,4.82132516,44.41214516 C4.82132516,44.41214516,3.1475077,45.55717888,2.21923599,45.71328986 C2.21923599,45.71328986,-0.21181798,45.15970658,0.82181665,43.7810395 C0.82181665,43.7810395,1.96471494,42.70724631,1.96471494,42.70724631 C3.55808171,41.51610626,5.10850929,40.30172208,6.74335922,39.31788498 C6.74335922,39.31788498,8.61351206,37.98366698,8.61351206,37.98366698 C8.61351206,37.98366698,9.60110965,37.19778046,9.60110965,37.19778046 C9.60110965,37.19778046,10.74368099,36.42321908,10.74368099,36.42321908 C10.74368099,36.42321908,11.16875135,34.73821523,11.16875135,34.73821523 C11.49338065,33.88343657,13.17711089,33.33233409,13.17711089,33.33233409 C13.17711089,33.33233409,14.56102865,33.76020034,14.56102865,33.76020034 C14.56102865,33.76020034,14.82700193,33.94327063,14.82700193,33.94327063 C14.82700193,33.94327063,15.46710261,33.52020201,15.46710261,33.52020201 C15.46710261,33.52020201,16.69567758,32.79282765,16.69567758,32.79282765 C18.33911746,31.85056826,19.99079279,30.94981156,21.67575575,30.21468213 C21.67575575,30.21468213,22.24578191,30.01143994,22.24578191,30.01143994 C22.24578191,30.01143994,22.47245914,29.61932965,22.47245914,29.61932965 C22.47245914,29.61932965,22.85868978,29.83151605,22.85868978,29.83151605Z M11.64395292,46.26430435 C12.09078497,43.92708405,12.28825885,41.4501727,12.802296,39.07673537 C12.31830529,40.83946775,11.59268076,43.42391,11.36669793,45.18373054 C11.06890128,47.2029074,10.5563993,52.82456475,10.28955001,55.29752281 C10.58845421,53.17421897,11.35006194,47.65251156,11.64395292,46.26430435Z M27.89766567,29.77014718 C27.89766567,29.77014718,27.85071135,29.83463909,27.85071135,29.83463909 C26.31403261,32.92146336,25.08525754,36.04990174,23.84185376,39.1055134 C22.72477488,41.89480433,21.45934901,44.84107612,20.55902749,47.5181689 C20.55902749,47.5181689,20.91289666,46.89279624,20.91289666,46.89279624 C20.91289666,46.89279624,20.08588467,49.93361692,20.08588467,49.93361692 C20.08588467,49.93361692,19.03576374,53.65321632,19.03576374,53.65321632 C22.38706373,48.86327683,25.12987066,44.02652252,27.23929688,39.31677703 C26.39521712,41.08015112,25.49692107,42.8717323,24.52267911,44.58202616 C24.52267911,44.58202616,22.76150108,47.74485766,22.76150108,47.74485766 C22.76150108,47.74485766,21.91636073,48.90593444,21.91636073,48.90593444 C21.91636073,48.90593444,22.28468376,48.35358832,22.28468376,48.35358832 C22.28468376,48.35358832,23.54101026,46.25596766,23.54101026,46.25596766 C24.28779791,44.90460965,25.02747079,43.51673497,25.71287722,42.15695087 C27.12319792,39.33624925,28.36366522,36.56383805,29.25644231,33.85052355 C29.69549921,32.45742925,30.12719048,31.02802423,30.33470236,29.67441005 C30.33470236,29.67441005,29.99280613,27.07761943,29.99280613,27.07761943 C29.99280613,27.07761943,27.97693933,29.5683211,27.97693933,29.5683211 C27.97693933,29.5683211,27.94460095,29.70564136,27.94460095,29.70564136 C27.94460095,29.70564136,27.9372862,29.66922564,27.9372862,29.66922564 C27.9372862,29.66922564,27.89032613,29.73373124,27.89032613,29.73373124 C27.89032613,29.73373124,27.89766567,29.77014718,27.89766567,29.77014718Z M17.86033899,54.6832214 C17.86033899,54.6832214,17.82845435,54.80076433,17.82845435,54.80076433 C17.82845435,54.80076433,17.84649248,55.63421631,17.84649248,55.63421631 C17.84649248,55.63421631,19.16978593,50.28846222,19.16978593,50.28846222 C19.45031776,49.29905632,19.96985833,48.30652827,20.18884765,47.30878164 C20.45469852,46.24653437,20.85104904,45.23739547,21.29442735,44.16376014 C21.79491694,42.77894169,26.28030847,30.80935599,26.28030847,30.80935599 C26.28030847,30.80935599,22.29321754,40.18953496,21.95130459,41.17066959 C21.17314182,43.26172733,20.0585607,45.44938914,19.50844283,47.50007937 C18.9157821,49.90011816,17.97103303,52.4676522,17.86033899,54.6832214Z M21.09316424,50.43925802 C21.09316424,50.43925802,22.12995585,49.43925802,22.12995585,49.43925802 C22.12995585,49.43925802,21.09316424,50.43925802,21.09316424,50.43925802Z M28.09022161,29.98582502 C28.09022161,29.98582502,28.78324803,28.98582502,28.78324803,28.98582502 C28.78324803,28.98582502,27.78324803,29.24755273,27.78324803,29.24755273 C27.78324803,29.24755273,28.09022161,29.98582502,28.09022161,29.98582502Z M18.86524595,54.06377619 C18.86524595,54.06377619,17.82845435,55.06377619,17.82845435,55.06377619 C17.82845435,55.06377619,18.86524595,54.06377619,18.86524595,54.06377619Z M37.52547659,51.84452161 C37.52547659,51.84452161,37.96510442,51.85431707,37.96510442,51.85431707 C37.96510442,51.85431707,36.9387654,54.79759171,36.9387654,54.79759171 C36.30035536,56.09282431,35.60759178,57.41621721,34.90739501,58.70321491 C33.6557085,61.12024361,32.56328844,63.73511666,30.77199147,66.15025643 C30.10723062,67.01646081,29.61409782,67.54380263,28.57606356,68.04281641 C27.32340612,68.66635298,26.43624008,68.72340632,25.51245296,68.5987666 C25.51245296,68.5987666,23.80598992,68.15553877,23.80598992,68.15553877 C23.80598992,68.15553877,24.19741716,68.31471589,24.19741716,68.31471589 C24.19741716,68.31471589,23.7004685,67.92899662,23.7004685,67.92899662 C23.7004685,67.92899662,23.72978063,68.07438915,23.72978063,68.07438915 C23.72978063,68.07438915,22.86222135,67.03608982,22.86222135,67.03608982 C22.86222135,67.03608982,22.80464099,65.25691476,22.80464099,65.25691476 C23.00898583,64.18677156,23.21299657,63.11592425,23.36314394,62.0734418 C23.56012074,60.96648918,24.09004215,59.72739059,24.56569693,58.51638179 C24.56569693,58.51638179,25.60800758,56.24831703,25.60800758,56.24831703 C25.60800758,56.24831703,25.52550217,56.73316045,25.52550217,56.73316045 C25.52550217,56.73316045,26.09081283,55.07375189,26.09081283,55.07375189 C26.09081283,55.07375189,25.9499563,55.26714861,25.9499563,55.26714861 C25.9499563,55.26714861,27.01168503,51.90369389,27.01168503,51.90369389 C25.22325436,54.03544704,23.94943488,56.34276232,22.63903055,58.46851558 C22.00361134,59.48082766,21.45177187,60.61067344,20.63161187,61.59807011 C20.63161187,61.59807011,19.98467001,62.25449715,19.98467001,62.25449715 C19.98467001,62.25449715,19.5736618,63.19085473,19.5736618,63.19085473 C18.6034742,65.22063739,17.27844574,67.2733226,16.2466652,69.29478915 C16.2466652,69.29478915,15.50392579,70.96564818,15.50392579,70.96564818 C15.50392579,70.96564818,15.27341263,71.60756577,15.27341263,71.60756577 C14.67035285,72.48251036,12.68652091,72.74479173,12.68652091,72.74479173 C12.68652091,72.74479173,11.88011812,71.71645135,11.88011812,71.71645135 C11.39546835,70.20069364,11.4926083,68.2603547,11.60377477,66.47156273 C11.88421913,62.54964208,12.45826161,58.483595,13.46996341,54.2983648 C14.32684199,50.586791,16.01782453,46.77689956,17.5784634,42.91396923 C17.5784634,42.91396923,17.9381397,41.72271898,17.9381397,41.72271898 C17.9381397,41.72271898,17.69724863,42.61121399,17.69724863,42.61121399 C17.69724863,42.61121399,18.18017119,41.43638739,18.18017119,41.43638739 C18.18017119,41.43638739,18.06429255,41.45663005,18.06429255,41.45663005 C18.06429255,41.45663005,18.92907386,39.19960099,19.36218364,38.37266912 C19.95351281,37.14190502,20.60662207,35.91943798,21.31397132,34.66889407 C22.54817537,32.46223553,23.69885587,30.13801394,25.54888782,28.01448622 C26.5244823,26.90657121,27.72468632,25.72265391,29.15017702,25.06510186 C29.15017702,25.06510186,31.15183246,24.59156984,31.15183246,24.59156984 C31.15183246,24.59156984,32.30527998,25.56237241,32.30527998,25.56237241 C32.30527998,25.56237241,31.86996271,25.18471452,31.86996271,25.18471452 C31.86996271,25.18471452,32.56129775,26.83699264,32.56129775,26.83699264 C32.56129775,26.83699264,32.64786975,26.67141993,32.64786975,26.67141993 C32.64786975,26.67141993,32.3481902,30.84625889,32.3481902,30.84625889 C32.06156472,32.40189796,31.55052533,34.03317831,30.97793771,35.65637388 C29.6448388,39.16019656,27.96848793,43.04285807,25.63975194,46.66033793 C25.63975194,46.66033793,24.10802501,48.57881141,24.10802501,48.57881141 C24.10802501,48.57881141,22.91345886,50.68455258,22.91345886,50.68455258 C21.72195923,52.50730941,20.40729813,54.3134206,19.02365923,56.07495966 C18.21824065,57.13494967,17.9584704,57.63121377,17.68525281,58.65703295 C17.45898697,59.61834847,17.28699251,60.55161493,17.05340878,61.47647506 C16.64052274,63.29823217,16.28189762,65.09185182,15.98484374,66.89375669 C16.71721424,65.4695326,17.5112835,64.05345839,18.35955859,62.60934145 C17.76359767,63.52082596,17.35565659,64.17418848,17.35565659,64.17418848 C17.35565659,64.17418848,22.95098461,55.04688089,23.55404867,54.17191576 C24.94798559,52.16396987,27.42795582,48.10646388,30.21052763,48.83666194 C31.7940549,49.26335295,31.03383476,51.14425858,30.43905184,52.65813003 C29.43040429,55.39125132,28.16199658,58.62057749,27.70344558,61.10911551 C27.70344558,61.10911551,28.08933057,60.34657417,28.08933057,60.34657417 C28.08933057,60.34657417,27.78310475,62.9975696,27.78310475,62.9975696 C27.78310475,62.9975696,28.10489491,64.59956869,28.10489491,64.59956869 C28.10489491,64.59956869,30.3567367,62.38885685,30.3567367,62.38885685 C32.0543609,60.10308205,33.55971569,57.75604205,35.07271239,55.44536448 C35.6143794,54.56191215,36.14833628,53.64216615,36.80574662,52.73922803 C36.80574662,52.73922803,37.52547659,51.84452161,37.52547659,51.84452161Z M60.3500838,34.89332567 C60.3500838,34.89332567,60.2889819,35.77416789,60.2889819,35.77416789 C60.2889819,35.77416789,58.70217998,38.51739756,58.70217998,38.51739756 C58.70217998,38.51739756,55.92633217,43.23563754,55.92633217,43.23563754 C55.20551119,44.45271256,54.2886991,45.72430882,53.56778206,46.94116324 C52.80135615,48.275495,52.16860748,49.5873899,51.26884712,50.94380568 C50.30687369,52.33244619,49.15610567,53.81466008,47.77744031,55.18871522 C46.7830986,56.0743162,45.78849581,56.61436235,44.63344244,57.0441792 C42.95874533,57.63266707,41.38602855,57.69593474,40.15351061,57.39653367 C40.15351061,57.39653367,39.30421568,56.94655853,39.30421568,56.94655853 C39.30421568,56.94655853,39.00866528,56.16228045,39.00866528,56.16228045 C39.00866528,56.16228045,39.03949981,54.59937923,39.03949981,54.59937923 C39.03949981,54.59937923,39.33996118,52.66238278,39.33996118,52.66238278 C39.33996118,52.66238278,39.49849581,50.70538028,39.49849581,50.70538028 C39.49849581,50.70538028,39.30758292,49.07006841,39.30758292,49.07006841 C39.30758292,49.07006841,39.78165485,47.65240229,39.78165485,47.65240229 C39.78165485,47.65240229,39.36451323,48.66523647,39.36451323,48.66523647 C39.36451323,48.66523647,39.06123934,49.90043382,39.06123934,49.90043382 C39.06123934,49.90043382,38.8199601,51.10385258,38.8199601,51.10385258 C38.8199601,51.10385258,38.48809926,52.54084955,38.48809926,52.54084955 C38.48809926,52.54084955,38.65594844,53.71975107,38.65594844,53.71975107 C38.65594844,53.71975107,38.61934008,54.91106533,38.61934008,54.91106533 C38.61934008,54.91106533,38.83808081,55.31304267,38.83808081,55.31304267 C38.83808081,55.31304267,38.83271948,55.97216022,38.83271948,55.97216022 C38.83271948,55.97216022,39.25873656,57.06422942,39.25873656,57.06422942 C38.12241629,56.33974363,38.00118485,55.09010509,37.97552982,53.69668216 C38.05146078,52.25182602,38.07700193,50.89546991,38.24380007,49.43260454 C38.57562596,46.51217547,39.73102222,43.16859675,41.70158633,39.94404369 C43.29972348,37.2032637,45.59615412,34.5630633,49.05416585,33.24010879 C50.33756716,32.76477566,51.78840146,32.44347767,52.7453362,32.74039483 C53.78194093,33.08455932,53.92416597,34.1359761,53.67461082,35.29652846 C53.195,37.37287151,51.39850323,39.75604529,49.6839854,41.86255551 C48.96596916,42.74949263,48.18532507,43.66957956,47.32495729,44.53663413 C47.32495729,44.53663413,45.44593731,46.16560565,45.44593731,46.16560565 C45.44593731,46.16560565,44.43516502,46.97008521,44.43516502,46.97008521 C44.43516502,46.97008521,43.80783237,47.62315665,43.80783237,47.62315665 C43.80783237,47.62315665,43.81385017,49.02615146,43.81385017,49.02615146 C43.81385017,49.02615146,43.63827631,50.89830351,43.63827631,50.89830351 C43.53055473,52.07879575,43.88340244,54.52163067,43.88340244,54.52163067 C45.00545,56.33153763,49.57824425,50.26129237,50.39569621,49.18148322 C50.39569621,49.18148322,51.90578605,47.08744099,51.90578605,47.08744099 C51.90578605,47.08744099,52.69770805,45.88072539,52.69770805,45.88072539 C52.69770805,45.88072539,52.76299318,45.51875031,52.76299318,45.51875031 C53.35059598,44.32436193,54.1962068,43.04241151,54.9795908,41.79319037 C55.9248835,40.3194192,56.73644584,38.8679521,57.60203327,37.34176245 C58.05332907,36.49860877,59.04942115,34.24867216,60.2790709,34.87783254 C60.2790709,34.87783254,60.28758736,34.92047196,60.28758736,34.92047196 C60.28758736,34.92047196,60.3500838,34.89332567,60.3500838,34.89332567Z M44.98033315,43.32354506 C44.98033315,43.32354506,44.44130336,45.10263091,44.44130336,45.10263091 C46.29470107,43.34634106,47.91014752,41.43176328,49.1164639,39.54181794 C49.1164639,39.54181794,49.99063177,38.05799421,49.99063177,38.05799421 C49.99063177,38.05799421,50.49584858,37.1402202,50.49584858,37.1402202 C50.49584858,37.1402202,50.36786628,36.50307308,50.36786628,36.50307308 C50.36786628,36.50307308,50.43861176,35.48227747,50.43861176,35.48227747 C50.43861176,35.48227747,49.03290368,34.66282634,49.03290368,34.66282634 C49.03290368,34.66282634,48.04504007,35.92437306,48.04504007,35.92437306 C48.04504007,35.92437306,47.1254903,37.52542564,47.1254903,37.52542564 C46.07811066,39.52074133,45.68117814,41.32006465,45.01712267,43.16369835 C45.01712267,43.16369835,44.98033315,43.32354506,44.98033315,43.32354506Z " fill="white" transform="translate(7, -25)"/> \
		</g> \
	</svg> \
	<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,132,66" style="height:66px;" overflow="visible"> \
		<g> \
			<path d="M0,0M0,0M18.75940079,21.44518856 C18.75940079,21.44518856,18.75940079,27.19661713,18.75940079,27.19661713 C18.75940079,28.76804571,19.20904433,30.19802492,20.10954499,31.48661713 C21.00917434,32.77518856,22.12773834,33.41947428,23.46487232,33.41947428 C22.12773834,33.41947428,21.00917434,34.06376041,20.10954499,35.35233142 C19.20904433,36.64090285,18.75940079,38.07090285,18.75940079,39.64233142 C18.75940079,39.64233142,18.75940079,42.84804571,18.75940079,42.84804571 C18.75940079,42.84804571,18.75940079,60.19661713,18.75940079,60.19661713 C18.75940079,61.76804571,19.20904433,63.19802492,20.10954499,64.48661713 C21.00917434,65.77518856,22.12773834,66.41947428,23.46487232,66.41947428 C23.46487232,66.41947428,18.75940079,66.41947428,18.75940079,66.41947428 C18.75940079,66.41947428,13.1277981,66.41947428,13.1277981,66.41947428 C13.1277981,66.41947428,7.41926458,66.41947428,7.41926458,66.41947428 C7.41926458,66.41947428,5.18213657,66.41947428,5.18213657,66.41947428 C5.18213657,66.41947428,0.55359588,66.41947428,0.55359588,66.41947428 C1.83933696,66.41947428,2.93215151,65.77518856,3.83213883,64.48661713 C4.73259699,63.19802492,5.18213657,61.76804571,5.18213657,60.19661713 C5.18213657,60.19661713,5.18213657,6.64233142,5.18213657,6.64233142 C5.18213657,5.07090285,4.73259699,3.64090285,3.83213883,2.35233142 C2.93215151,1.06376041,1.83933696,0.41947428,0.55359588,0.41947428 C0.55359588,0.41947428,5.18213657,0.41947428,5.18213657,0.41947428 C5.18213657,0.41947428,7.41926458,0.41947428,7.41926458,0.41947428 C7.41926458,0.41947428,14.36207562,0.41947428,14.36207562,0.41947428 C14.36207562,0.41947428,18.75940079,0.41947428,18.75940079,0.41947428 C18.75940079,0.41947428,23.46487232,0.41947428,23.46487232,0.41947428 C22.12773834,0.41947428,21.00917434,1.06376041,20.10954499,2.35233142 C19.20904433,3.64090285,18.75940079,5.07090285,18.75940079,6.64233142 C18.75940079,6.64233142,18.75940079,21.44518856,18.75940079,21.44518856Z M43.98473607,60.19661713 C43.98473607,61.76804571,44.43473308,63.19802492,45.33452612,64.48661713 C46.23472113,65.77518856,47.35328564,66.41947428,48.69041911,66.41947428 C48.69041911,66.41947428,43.98473607,66.41947428,43.98473607,66.41947428 C43.98473607,66.41947428,41.82468206,66.41947428,41.82468206,66.41947428 C41.82468206,66.41947428,36.11621693,66.41947428,36.11621693,66.41947428 C36.11621693,66.41947428,30.4073578,66.41947428,30.4073578,66.41947428 C30.4073578,66.41947428,25.77930938,66.41947428,25.77930938,66.41947428 C27.06484842,66.41947428,28.15774987,65.77518856,29.05771611,64.48661713 C29.95768635,63.19802492,30.4073578,61.76804571,30.4073578,60.19661713 C30.4073578,60.19661713,30.4073578,42.84804571,30.4073578,42.84804571 C30.4073578,42.84804571,30.4073578,39.64233142,30.4073578,39.64233142 C30.4073578,38.07090285,29.95768635,36.64090285,29.05771611,35.35233142 C28.15774987,34.06376041,27.06484842,33.41947428,25.77930938,33.41947428 C27.06484842,33.41947428,28.15774987,32.77518856,29.05771611,31.48661713 C29.95768635,30.19802492,30.4073578,28.76804571,30.4073578,27.19661713 C30.4073578,27.19661713,30.4073578,21.44518856,30.4073578,21.44518856 C30.4073578,21.44518856,30.4073578,6.64233142,30.4073578,6.64233142 C30.4073578,5.07090285,29.95768635,3.64090285,29.05771611,2.35233142 C28.15774987,1.06376041,27.06484842,0.41947428,25.77930938,0.41947428 C25.77930938,0.41947428,30.4073578,0.41947428,30.4073578,0.41947428 C30.4073578,0.41947428,34.88193928,0.41947428,34.88193928,0.41947428 C34.88193928,0.41947428,41.82468206,0.41947428,41.82468206,0.41947428 C41.82468206,0.41947428,43.98473607,0.41947428,43.98473607,0.41947428 C43.98473607,0.41947428,48.69041911,0.41947428,48.69041911,0.41947428 C47.35328564,0.41947428,46.23472113,1.06376041,45.33452612,2.35233142 C44.43473308,3.64090285,43.98473607,5.07090285,43.98473607,6.64233142 C43.98473607,6.64233142,43.98473607,60.19661713,43.98473607,60.19661713Z M66.12570987,61.17262876 C66.12570987,62.30399824,66.50508934,63.40399824,67.26420957,64.47256966 C68.02319578,65.54114109,68.94047927,66.16971252,70.01553667,66.35828395 C70.01553667,66.35828395,64.1333223,66.35828395,64.1333223,66.35828395 C64.1333223,66.35828395,48.00491957,66.35828395,48.00491957,66.35828395 C49.08001747,66.16971252,49.99712651,65.54114109,50.75636526,64.47256966 C51.51511777,63.40399824,51.89466117,62.30399824,51.89466117,61.17262876 C51.89466117,61.17262876,51.89466117,58.53256966,51.89466117,58.53256966 C51.89466117,58.53256966,51.89466117,34.01828395,51.89466117,34.01828395 C51.89466117,34.01828395,51.89466117,28.64399824,51.89466117,28.64399824 C51.89466117,28.64399824,51.89466117,27.60685538,51.89466117,27.60685538 C51.89466117,26.41256966,51.51511777,25.29685538,50.75636526,24.25971252 C49.99712651,23.22256966,49.08001747,22.60971252,48.00491957,22.42114109 C48.00491957,22.42114109,64.22817067,20.06399824,64.22817067,20.06399824 C64.22817067,20.06399824,64.5128824,20.06399824,64.5128824,20.06399824 C65.58798029,20.06399824,66.12570987,20.59828395,66.12570987,21.66685538 C66.12570987,21.66685538,66.12570987,33.64114109,66.12570987,33.64114109 C66.12570987,33.64114109,66.12570987,58.53256966,66.12570987,58.53256966 C66.12570987,58.53256966,66.12570987,61.17262876,66.12570987,61.17262876Z M53.83963056,13.04796256 C52.41686651,11.63367684,51.7050531,9.9208197,51.7050531,7.90939113 C51.7050531,5.89796256,52.41686651,4.16939113,53.83963056,2.72367684 C55.26263725,1.27796256,56.98626332,0.55510541,59.0105006,0.55510541 C61.03405952,0.55510541,62.77345007,1.27796256,64.22817067,2.72367684 C65.68298704,4.16939113,66.41034939,5.89796256,66.41034939,7.90939113 C66.41034939,8.91510541,65.84110929,10.73796256,65.84110929,10.73796256 C65.84110929,10.73796256,64.27569902,13.04796256,64.27569902,13.04796256 C64.27569902,13.04796256,61.90386465,14.60367684,61.90386465,14.60367684 C61.90386465,14.60367684,60.02221052,15.16939113,59.0105006,15.16939113 C56.98626332,15.16939113,55.26263725,14.46227782,53.83963056,13.04796256Z M79.63617943,58.94294916 C80.12400252,60.38858005,80.7915499,61.66143719,81.63882159,62.76143719 C82.48609325,63.86143719,83.47457687,64.74143719,84.60427244,65.40143719 C85.73396801,66.06143719,86.91501338,66.39143719,88.14740854,66.39143719 C88.14740854,66.39143719,69.58445636,66.39143719,69.58445636,66.39143719 C70.81685152,66.39143719,71.99789689,66.06143719,73.12759246,65.40143719 C74.25728803,64.74143719,75.24577165,63.86143719,76.09304333,62.76143719 C76.940315,61.66143719,77.62069983,60.38858005,78.13419782,58.94294916 C78.64769581,57.49715148,78.9044448,56.02000862,78.9044448,54.51143719 C78.9044448,56.02000862,79.14830655,57.49715148,79.63617943,58.94294916Z M105.40094087,33.95715148 C105.40094087,33.95715148,104.63069389,36.69143719,104.63069389,36.69143719 C104.63069389,36.69143719,96.15797712,66.39143719,96.15797712,66.39143719 C96.15797712,66.39143719,82.75567969,18.96572291,82.75567969,18.96572291 C82.39643779,17.83429434,81.72835397,17.26858005,80.75303755,17.26858005 C80.75303755,17.26858005,79.28956829,18.02294916,79.28956829,18.02294916 C79.28956829,18.02294916,78.67337071,19.81429434,78.67337071,19.81429434 C78.67337071,19.81429434,78.67337071,17.55143719,78.67337071,17.55143719 C78.67337071,17.55143719,78.67337071,14.34572291,78.67337071,14.34572291 C78.67337071,14.34572291,78.67337071,6.61429434,78.67337071,6.61429434 C78.67337071,5.04294916,78.18554762,3.61294916,77.20990145,2.32429434 C76.23425527,1.03572291,75.1045597,0.39143719,73.82081474,0.39143719 C73.82081474,0.39143719,91.84459404,0.39143719,91.84459404,0.39143719 C91.84459404,0.39143719,100.08623672,29.33715148,100.08623672,29.33715148 C100.08623672,29.33715148,101.39565658,33.95715148,101.39565658,33.95715148 C101.39565658,33.95715148,102.12739121,35.23000862,102.12739121,35.23000862 C102.12739121,35.23000862,103.39829873,35.74858005,103.39829873,35.74858005 C104.37394491,35.74858005,105.04149228,35.15143719,105.40094087,33.95715148Z M131.58933815,0.39143719 C130.30559319,0.39143719,129.21440997,1.03572291,128.31578849,2.32429434 C127.41716702,3.61294916,126.96785628,5.04294916,126.96785628,6.61429434 C126.96785628,6.61429434,126.96785628,60.16858005,126.96785628,60.16858005 C126.96785628,61.74000862,127.41716702,63.17000862,128.31578849,64.45858005 C129.21440997,65.74715148,130.30559319,66.39143719,131.58933815,66.39143719 C131.58933815,66.39143719,126.96785628,66.39143719,126.96785628,66.39143719 C126.96785628,66.39143719,121.26802863,66.39143719,121.26802863,66.39143719 C121.26802863,66.39143719,115.56820099,66.39143719,115.56820099,66.39143719 C115.56820099,66.39143719,113.41150945,66.39143719,113.41150945,66.39143719 C113.41150945,66.39143719,108.71300288,66.39143719,108.71300288,66.39143719 C110.04829985,66.39143719,111.16495576,65.74715148,112.06357724,64.45858005 C112.96188869,63.17000862,113.41150945,61.74000862,113.41150945,60.16858005 C113.41150945,60.16858005,113.41150945,22.45429434,113.41150945,22.45429434 C113.41150945,22.45429434,113.41150945,19.34294916,113.41150945,19.34294916 C113.41150945,19.34294916,112.75679952,17.50429434,112.75679952,17.50429434 C112.75679952,17.50429434,111.25481791,16.70294916,111.25481791,16.70294916 C110.27917174,16.70294916,109.61162435,17.3,109.25217576,18.49429434 C109.25217576,18.49429434,110.56159563,13.78000862,110.56159563,13.78000862 C110.56159563,13.78000862,114.25878113,0.39143719,114.25878113,0.39143719 C114.25878113,0.39143719,122.5004238,0.39143719,122.5004238,0.39143719 C122.5004238,0.39143719,126.96785628,0.39143719,126.96785628,0.39143719 C126.96785628,0.39143719,131.58933815,0.39143719,131.58933815,0.39143719Z " fill="#F9F0E6" transform="translate(-7, 0)"/> \
		</g> \
	</svg>', {id:"", class:""});
	spanLogoContent.appendTo(spanLogo);
	spanLogo.appendTo(topPanel);

	var spanNewsletter = $('<span class="shareItems" style="justify-content:right;border-block-end:0;border-block-start:0;"/>', {id:"", class:""});
	var spanNewsletterContent = $(' \
	<a title="Newsletter" style="display:inline-flex;align-items:center;" class="top-share" onClick="#"> <!-- onclick="goToNewsletter()" --> \
	<i id="newsletterBtn" style="width:1em;" class="fa fa-envelope"></i></a> \
	', {id:"", class:""});
	spanNewsletterContent.appendTo(spanNewsletter);
	spanNewsletter.appendTo(topPanel);
}

function desktopMenu(topPanel, topPanelMenu) {
	var spanDate = $('<span class="top-date"/>', {id:"", class:""});
	var spanDateContent = $('<p id="topDate" style="color:#F9F0E6; font:1em Bebas Neue Cyrillic; \
	margin-block-start: 2em; margin-block-end:2em;"></p>', {id:"", class:""});
	spanDateContent.appendTo(spanDate);
	spanDate.appendTo(topPanel);

	setInterval(function(){
		var options = {weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric'};
		document.getElementById("topDate").innerHTML = (new Date().toLocaleTimeString("en-GB", options))
	}, 1000);
	
	/* style="transform: translateY(-45%)" */
	var spanLogo = $('<span class="spanLogo" style="cursor:pointer; justify-content:center;" onclick="logoGoToHome()"/>', {id:"", class:""});
	var spanLogoContent = $('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,62,62" style="height:62px;z-index:1;" overflow="visible"> \
		<g> \
			<path d="M0,0M0,0M22.85868978,29.83151605 C22.85868978,29.83151605,21.52922129,31.58355775,21.52922129,31.58355775 C21.52922129,31.58355775,19.55543668,32.97151789,19.55543668,32.97151789 C19.55543668,32.97151789,19.37171059,33.38687951,19.37171059,33.38687951 C19.37171059,33.38687951,18.95542033,33.78584687,18.95542033,33.78584687 C18.95542033,33.78584687,17.69953346,34.75626669,17.69953346,34.75626669 C17.69953346,34.75626669,15.30948331,36.54282677,15.30948331,36.54282677 C15.30948331,36.54282677,13.69365569,37.24190361,13.53234178,38.1494594 C13.53234178,38.1494594,13.58812107,38.80730234,13.58812107,38.80730234 C13.58812107,38.80730234,13.24883216,40.53948291,13.24883216,40.53948291 C13.24883216,40.53948291,12.56772581,44.37140008,12.56772581,44.37140008 C12.20218348,46.16295049,12.06913073,47.97149915,11.81566829,49.75081415 C11.67937712,50.78268638,11.43926741,51.8684526,11.41502225,52.88818264 C11.41502225,52.88818264,11.45615118,54.42344312,11.3640034,55.2951988 C10.88913343,59.20348303,10.1984039,63.17756418,9.84397297,67.11522605 C9.56623624,69.91412611,9.05562493,75.65675256,6.18868854,76.85834576 C4.62069944,77.52688348,3.07463966,76.94306336,2.01048471,75.68243579 C1.21010575,74.71139984,0.3782954,73.03602902,0.05967971,71.64461395 C0.05967971,71.64461395,0,70.57655989,0,70.57655989 C0.33075256,69.76443906,1.4095281,70.76264106,1.4095281,70.76264106 C2.52261602,71.74294509,3.59038982,73.06723782,4.99127846,73.57822372 C4.99127846,73.57822372,5.79113447,73.7590662,6.07283441,72.88080265 C6.67917429,71.14788826,6.91724141,69.10185714,7.01574996,67.31102397 C7.31312627,62.89963309,7.79162671,58.44004915,8.27045177,53.98039646 C8.71453108,49.53867997,9.08111373,45.09129808,9.86143339,40.61287231 C9.86143339,40.61287231,8.15598651,41.81614879,8.15598651,41.81614879 C8.15598651,41.81614879,7.02888785,42.85720699,7.02888785,42.85720699 C7.02888785,42.85720699,4.82132516,44.41214516,4.82132516,44.41214516 C4.82132516,44.41214516,3.1475077,45.55717888,2.21923599,45.71328986 C2.21923599,45.71328986,-0.21181798,45.15970658,0.82181665,43.7810395 C0.82181665,43.7810395,1.96471494,42.70724631,1.96471494,42.70724631 C3.55808171,41.51610626,5.10850929,40.30172208,6.74335922,39.31788498 C6.74335922,39.31788498,8.61351206,37.98366698,8.61351206,37.98366698 C8.61351206,37.98366698,9.60110965,37.19778046,9.60110965,37.19778046 C9.60110965,37.19778046,10.74368099,36.42321908,10.74368099,36.42321908 C10.74368099,36.42321908,11.16875135,34.73821523,11.16875135,34.73821523 C11.49338065,33.88343657,13.17711089,33.33233409,13.17711089,33.33233409 C13.17711089,33.33233409,14.56102865,33.76020034,14.56102865,33.76020034 C14.56102865,33.76020034,14.82700193,33.94327063,14.82700193,33.94327063 C14.82700193,33.94327063,15.46710261,33.52020201,15.46710261,33.52020201 C15.46710261,33.52020201,16.69567758,32.79282765,16.69567758,32.79282765 C18.33911746,31.85056826,19.99079279,30.94981156,21.67575575,30.21468213 C21.67575575,30.21468213,22.24578191,30.01143994,22.24578191,30.01143994 C22.24578191,30.01143994,22.47245914,29.61932965,22.47245914,29.61932965 C22.47245914,29.61932965,22.85868978,29.83151605,22.85868978,29.83151605Z M11.64395292,46.26430435 C12.09078497,43.92708405,12.28825885,41.4501727,12.802296,39.07673537 C12.31830529,40.83946775,11.59268076,43.42391,11.36669793,45.18373054 C11.06890128,47.2029074,10.5563993,52.82456475,10.28955001,55.29752281 C10.58845421,53.17421897,11.35006194,47.65251156,11.64395292,46.26430435Z M27.89766567,29.77014718 C27.89766567,29.77014718,27.85071135,29.83463909,27.85071135,29.83463909 C26.31403261,32.92146336,25.08525754,36.04990174,23.84185376,39.1055134 C22.72477488,41.89480433,21.45934901,44.84107612,20.55902749,47.5181689 C20.55902749,47.5181689,20.91289666,46.89279624,20.91289666,46.89279624 C20.91289666,46.89279624,20.08588467,49.93361692,20.08588467,49.93361692 C20.08588467,49.93361692,19.03576374,53.65321632,19.03576374,53.65321632 C22.38706373,48.86327683,25.12987066,44.02652252,27.23929688,39.31677703 C26.39521712,41.08015112,25.49692107,42.8717323,24.52267911,44.58202616 C24.52267911,44.58202616,22.76150108,47.74485766,22.76150108,47.74485766 C22.76150108,47.74485766,21.91636073,48.90593444,21.91636073,48.90593444 C21.91636073,48.90593444,22.28468376,48.35358832,22.28468376,48.35358832 C22.28468376,48.35358832,23.54101026,46.25596766,23.54101026,46.25596766 C24.28779791,44.90460965,25.02747079,43.51673497,25.71287722,42.15695087 C27.12319792,39.33624925,28.36366522,36.56383805,29.25644231,33.85052355 C29.69549921,32.45742925,30.12719048,31.02802423,30.33470236,29.67441005 C30.33470236,29.67441005,29.99280613,27.07761943,29.99280613,27.07761943 C29.99280613,27.07761943,27.97693933,29.5683211,27.97693933,29.5683211 C27.97693933,29.5683211,27.94460095,29.70564136,27.94460095,29.70564136 C27.94460095,29.70564136,27.9372862,29.66922564,27.9372862,29.66922564 C27.9372862,29.66922564,27.89032613,29.73373124,27.89032613,29.73373124 C27.89032613,29.73373124,27.89766567,29.77014718,27.89766567,29.77014718Z M17.86033899,54.6832214 C17.86033899,54.6832214,17.82845435,54.80076433,17.82845435,54.80076433 C17.82845435,54.80076433,17.84649248,55.63421631,17.84649248,55.63421631 C17.84649248,55.63421631,19.16978593,50.28846222,19.16978593,50.28846222 C19.45031776,49.29905632,19.96985833,48.30652827,20.18884765,47.30878164 C20.45469852,46.24653437,20.85104904,45.23739547,21.29442735,44.16376014 C21.79491694,42.77894169,26.28030847,30.80935599,26.28030847,30.80935599 C26.28030847,30.80935599,22.29321754,40.18953496,21.95130459,41.17066959 C21.17314182,43.26172733,20.0585607,45.44938914,19.50844283,47.50007937 C18.9157821,49.90011816,17.97103303,52.4676522,17.86033899,54.6832214Z M21.09316424,50.43925802 C21.09316424,50.43925802,22.12995585,49.43925802,22.12995585,49.43925802 C22.12995585,49.43925802,21.09316424,50.43925802,21.09316424,50.43925802Z M28.09022161,29.98582502 C28.09022161,29.98582502,28.78324803,28.98582502,28.78324803,28.98582502 C28.78324803,28.98582502,27.78324803,29.24755273,27.78324803,29.24755273 C27.78324803,29.24755273,28.09022161,29.98582502,28.09022161,29.98582502Z M18.86524595,54.06377619 C18.86524595,54.06377619,17.82845435,55.06377619,17.82845435,55.06377619 C17.82845435,55.06377619,18.86524595,54.06377619,18.86524595,54.06377619Z M37.52547659,51.84452161 C37.52547659,51.84452161,37.96510442,51.85431707,37.96510442,51.85431707 C37.96510442,51.85431707,36.9387654,54.79759171,36.9387654,54.79759171 C36.30035536,56.09282431,35.60759178,57.41621721,34.90739501,58.70321491 C33.6557085,61.12024361,32.56328844,63.73511666,30.77199147,66.15025643 C30.10723062,67.01646081,29.61409782,67.54380263,28.57606356,68.04281641 C27.32340612,68.66635298,26.43624008,68.72340632,25.51245296,68.5987666 C25.51245296,68.5987666,23.80598992,68.15553877,23.80598992,68.15553877 C23.80598992,68.15553877,24.19741716,68.31471589,24.19741716,68.31471589 C24.19741716,68.31471589,23.7004685,67.92899662,23.7004685,67.92899662 C23.7004685,67.92899662,23.72978063,68.07438915,23.72978063,68.07438915 C23.72978063,68.07438915,22.86222135,67.03608982,22.86222135,67.03608982 C22.86222135,67.03608982,22.80464099,65.25691476,22.80464099,65.25691476 C23.00898583,64.18677156,23.21299657,63.11592425,23.36314394,62.0734418 C23.56012074,60.96648918,24.09004215,59.72739059,24.56569693,58.51638179 C24.56569693,58.51638179,25.60800758,56.24831703,25.60800758,56.24831703 C25.60800758,56.24831703,25.52550217,56.73316045,25.52550217,56.73316045 C25.52550217,56.73316045,26.09081283,55.07375189,26.09081283,55.07375189 C26.09081283,55.07375189,25.9499563,55.26714861,25.9499563,55.26714861 C25.9499563,55.26714861,27.01168503,51.90369389,27.01168503,51.90369389 C25.22325436,54.03544704,23.94943488,56.34276232,22.63903055,58.46851558 C22.00361134,59.48082766,21.45177187,60.61067344,20.63161187,61.59807011 C20.63161187,61.59807011,19.98467001,62.25449715,19.98467001,62.25449715 C19.98467001,62.25449715,19.5736618,63.19085473,19.5736618,63.19085473 C18.6034742,65.22063739,17.27844574,67.2733226,16.2466652,69.29478915 C16.2466652,69.29478915,15.50392579,70.96564818,15.50392579,70.96564818 C15.50392579,70.96564818,15.27341263,71.60756577,15.27341263,71.60756577 C14.67035285,72.48251036,12.68652091,72.74479173,12.68652091,72.74479173 C12.68652091,72.74479173,11.88011812,71.71645135,11.88011812,71.71645135 C11.39546835,70.20069364,11.4926083,68.2603547,11.60377477,66.47156273 C11.88421913,62.54964208,12.45826161,58.483595,13.46996341,54.2983648 C14.32684199,50.586791,16.01782453,46.77689956,17.5784634,42.91396923 C17.5784634,42.91396923,17.9381397,41.72271898,17.9381397,41.72271898 C17.9381397,41.72271898,17.69724863,42.61121399,17.69724863,42.61121399 C17.69724863,42.61121399,18.18017119,41.43638739,18.18017119,41.43638739 C18.18017119,41.43638739,18.06429255,41.45663005,18.06429255,41.45663005 C18.06429255,41.45663005,18.92907386,39.19960099,19.36218364,38.37266912 C19.95351281,37.14190502,20.60662207,35.91943798,21.31397132,34.66889407 C22.54817537,32.46223553,23.69885587,30.13801394,25.54888782,28.01448622 C26.5244823,26.90657121,27.72468632,25.72265391,29.15017702,25.06510186 C29.15017702,25.06510186,31.15183246,24.59156984,31.15183246,24.59156984 C31.15183246,24.59156984,32.30527998,25.56237241,32.30527998,25.56237241 C32.30527998,25.56237241,31.86996271,25.18471452,31.86996271,25.18471452 C31.86996271,25.18471452,32.56129775,26.83699264,32.56129775,26.83699264 C32.56129775,26.83699264,32.64786975,26.67141993,32.64786975,26.67141993 C32.64786975,26.67141993,32.3481902,30.84625889,32.3481902,30.84625889 C32.06156472,32.40189796,31.55052533,34.03317831,30.97793771,35.65637388 C29.6448388,39.16019656,27.96848793,43.04285807,25.63975194,46.66033793 C25.63975194,46.66033793,24.10802501,48.57881141,24.10802501,48.57881141 C24.10802501,48.57881141,22.91345886,50.68455258,22.91345886,50.68455258 C21.72195923,52.50730941,20.40729813,54.3134206,19.02365923,56.07495966 C18.21824065,57.13494967,17.9584704,57.63121377,17.68525281,58.65703295 C17.45898697,59.61834847,17.28699251,60.55161493,17.05340878,61.47647506 C16.64052274,63.29823217,16.28189762,65.09185182,15.98484374,66.89375669 C16.71721424,65.4695326,17.5112835,64.05345839,18.35955859,62.60934145 C17.76359767,63.52082596,17.35565659,64.17418848,17.35565659,64.17418848 C17.35565659,64.17418848,22.95098461,55.04688089,23.55404867,54.17191576 C24.94798559,52.16396987,27.42795582,48.10646388,30.21052763,48.83666194 C31.7940549,49.26335295,31.03383476,51.14425858,30.43905184,52.65813003 C29.43040429,55.39125132,28.16199658,58.62057749,27.70344558,61.10911551 C27.70344558,61.10911551,28.08933057,60.34657417,28.08933057,60.34657417 C28.08933057,60.34657417,27.78310475,62.9975696,27.78310475,62.9975696 C27.78310475,62.9975696,28.10489491,64.59956869,28.10489491,64.59956869 C28.10489491,64.59956869,30.3567367,62.38885685,30.3567367,62.38885685 C32.0543609,60.10308205,33.55971569,57.75604205,35.07271239,55.44536448 C35.6143794,54.56191215,36.14833628,53.64216615,36.80574662,52.73922803 C36.80574662,52.73922803,37.52547659,51.84452161,37.52547659,51.84452161Z M60.3500838,34.89332567 C60.3500838,34.89332567,60.2889819,35.77416789,60.2889819,35.77416789 C60.2889819,35.77416789,58.70217998,38.51739756,58.70217998,38.51739756 C58.70217998,38.51739756,55.92633217,43.23563754,55.92633217,43.23563754 C55.20551119,44.45271256,54.2886991,45.72430882,53.56778206,46.94116324 C52.80135615,48.275495,52.16860748,49.5873899,51.26884712,50.94380568 C50.30687369,52.33244619,49.15610567,53.81466008,47.77744031,55.18871522 C46.7830986,56.0743162,45.78849581,56.61436235,44.63344244,57.0441792 C42.95874533,57.63266707,41.38602855,57.69593474,40.15351061,57.39653367 C40.15351061,57.39653367,39.30421568,56.94655853,39.30421568,56.94655853 C39.30421568,56.94655853,39.00866528,56.16228045,39.00866528,56.16228045 C39.00866528,56.16228045,39.03949981,54.59937923,39.03949981,54.59937923 C39.03949981,54.59937923,39.33996118,52.66238278,39.33996118,52.66238278 C39.33996118,52.66238278,39.49849581,50.70538028,39.49849581,50.70538028 C39.49849581,50.70538028,39.30758292,49.07006841,39.30758292,49.07006841 C39.30758292,49.07006841,39.78165485,47.65240229,39.78165485,47.65240229 C39.78165485,47.65240229,39.36451323,48.66523647,39.36451323,48.66523647 C39.36451323,48.66523647,39.06123934,49.90043382,39.06123934,49.90043382 C39.06123934,49.90043382,38.8199601,51.10385258,38.8199601,51.10385258 C38.8199601,51.10385258,38.48809926,52.54084955,38.48809926,52.54084955 C38.48809926,52.54084955,38.65594844,53.71975107,38.65594844,53.71975107 C38.65594844,53.71975107,38.61934008,54.91106533,38.61934008,54.91106533 C38.61934008,54.91106533,38.83808081,55.31304267,38.83808081,55.31304267 C38.83808081,55.31304267,38.83271948,55.97216022,38.83271948,55.97216022 C38.83271948,55.97216022,39.25873656,57.06422942,39.25873656,57.06422942 C38.12241629,56.33974363,38.00118485,55.09010509,37.97552982,53.69668216 C38.05146078,52.25182602,38.07700193,50.89546991,38.24380007,49.43260454 C38.57562596,46.51217547,39.73102222,43.16859675,41.70158633,39.94404369 C43.29972348,37.2032637,45.59615412,34.5630633,49.05416585,33.24010879 C50.33756716,32.76477566,51.78840146,32.44347767,52.7453362,32.74039483 C53.78194093,33.08455932,53.92416597,34.1359761,53.67461082,35.29652846 C53.195,37.37287151,51.39850323,39.75604529,49.6839854,41.86255551 C48.96596916,42.74949263,48.18532507,43.66957956,47.32495729,44.53663413 C47.32495729,44.53663413,45.44593731,46.16560565,45.44593731,46.16560565 C45.44593731,46.16560565,44.43516502,46.97008521,44.43516502,46.97008521 C44.43516502,46.97008521,43.80783237,47.62315665,43.80783237,47.62315665 C43.80783237,47.62315665,43.81385017,49.02615146,43.81385017,49.02615146 C43.81385017,49.02615146,43.63827631,50.89830351,43.63827631,50.89830351 C43.53055473,52.07879575,43.88340244,54.52163067,43.88340244,54.52163067 C45.00545,56.33153763,49.57824425,50.26129237,50.39569621,49.18148322 C50.39569621,49.18148322,51.90578605,47.08744099,51.90578605,47.08744099 C51.90578605,47.08744099,52.69770805,45.88072539,52.69770805,45.88072539 C52.69770805,45.88072539,52.76299318,45.51875031,52.76299318,45.51875031 C53.35059598,44.32436193,54.1962068,43.04241151,54.9795908,41.79319037 C55.9248835,40.3194192,56.73644584,38.8679521,57.60203327,37.34176245 C58.05332907,36.49860877,59.04942115,34.24867216,60.2790709,34.87783254 C60.2790709,34.87783254,60.28758736,34.92047196,60.28758736,34.92047196 C60.28758736,34.92047196,60.3500838,34.89332567,60.3500838,34.89332567Z M44.98033315,43.32354506 C44.98033315,43.32354506,44.44130336,45.10263091,44.44130336,45.10263091 C46.29470107,43.34634106,47.91014752,41.43176328,49.1164639,39.54181794 C49.1164639,39.54181794,49.99063177,38.05799421,49.99063177,38.05799421 C49.99063177,38.05799421,50.49584858,37.1402202,50.49584858,37.1402202 C50.49584858,37.1402202,50.36786628,36.50307308,50.36786628,36.50307308 C50.36786628,36.50307308,50.43861176,35.48227747,50.43861176,35.48227747 C50.43861176,35.48227747,49.03290368,34.66282634,49.03290368,34.66282634 C49.03290368,34.66282634,48.04504007,35.92437306,48.04504007,35.92437306 C48.04504007,35.92437306,47.1254903,37.52542564,47.1254903,37.52542564 C46.07811066,39.52074133,45.68117814,41.32006465,45.01712267,43.16369835 C45.01712267,43.16369835,44.98033315,43.32354506,44.98033315,43.32354506Z " fill="white" transform="translate(7, -25)"/> \
		</g> \
	</svg> \
	<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,132,66" style="height:66px;" overflow="visible"> \
		<g> \
			<path d="M0,0M0,0M18.75940079,21.44518856 C18.75940079,21.44518856,18.75940079,27.19661713,18.75940079,27.19661713 C18.75940079,28.76804571,19.20904433,30.19802492,20.10954499,31.48661713 C21.00917434,32.77518856,22.12773834,33.41947428,23.46487232,33.41947428 C22.12773834,33.41947428,21.00917434,34.06376041,20.10954499,35.35233142 C19.20904433,36.64090285,18.75940079,38.07090285,18.75940079,39.64233142 C18.75940079,39.64233142,18.75940079,42.84804571,18.75940079,42.84804571 C18.75940079,42.84804571,18.75940079,60.19661713,18.75940079,60.19661713 C18.75940079,61.76804571,19.20904433,63.19802492,20.10954499,64.48661713 C21.00917434,65.77518856,22.12773834,66.41947428,23.46487232,66.41947428 C23.46487232,66.41947428,18.75940079,66.41947428,18.75940079,66.41947428 C18.75940079,66.41947428,13.1277981,66.41947428,13.1277981,66.41947428 C13.1277981,66.41947428,7.41926458,66.41947428,7.41926458,66.41947428 C7.41926458,66.41947428,5.18213657,66.41947428,5.18213657,66.41947428 C5.18213657,66.41947428,0.55359588,66.41947428,0.55359588,66.41947428 C1.83933696,66.41947428,2.93215151,65.77518856,3.83213883,64.48661713 C4.73259699,63.19802492,5.18213657,61.76804571,5.18213657,60.19661713 C5.18213657,60.19661713,5.18213657,6.64233142,5.18213657,6.64233142 C5.18213657,5.07090285,4.73259699,3.64090285,3.83213883,2.35233142 C2.93215151,1.06376041,1.83933696,0.41947428,0.55359588,0.41947428 C0.55359588,0.41947428,5.18213657,0.41947428,5.18213657,0.41947428 C5.18213657,0.41947428,7.41926458,0.41947428,7.41926458,0.41947428 C7.41926458,0.41947428,14.36207562,0.41947428,14.36207562,0.41947428 C14.36207562,0.41947428,18.75940079,0.41947428,18.75940079,0.41947428 C18.75940079,0.41947428,23.46487232,0.41947428,23.46487232,0.41947428 C22.12773834,0.41947428,21.00917434,1.06376041,20.10954499,2.35233142 C19.20904433,3.64090285,18.75940079,5.07090285,18.75940079,6.64233142 C18.75940079,6.64233142,18.75940079,21.44518856,18.75940079,21.44518856Z M43.98473607,60.19661713 C43.98473607,61.76804571,44.43473308,63.19802492,45.33452612,64.48661713 C46.23472113,65.77518856,47.35328564,66.41947428,48.69041911,66.41947428 C48.69041911,66.41947428,43.98473607,66.41947428,43.98473607,66.41947428 C43.98473607,66.41947428,41.82468206,66.41947428,41.82468206,66.41947428 C41.82468206,66.41947428,36.11621693,66.41947428,36.11621693,66.41947428 C36.11621693,66.41947428,30.4073578,66.41947428,30.4073578,66.41947428 C30.4073578,66.41947428,25.77930938,66.41947428,25.77930938,66.41947428 C27.06484842,66.41947428,28.15774987,65.77518856,29.05771611,64.48661713 C29.95768635,63.19802492,30.4073578,61.76804571,30.4073578,60.19661713 C30.4073578,60.19661713,30.4073578,42.84804571,30.4073578,42.84804571 C30.4073578,42.84804571,30.4073578,39.64233142,30.4073578,39.64233142 C30.4073578,38.07090285,29.95768635,36.64090285,29.05771611,35.35233142 C28.15774987,34.06376041,27.06484842,33.41947428,25.77930938,33.41947428 C27.06484842,33.41947428,28.15774987,32.77518856,29.05771611,31.48661713 C29.95768635,30.19802492,30.4073578,28.76804571,30.4073578,27.19661713 C30.4073578,27.19661713,30.4073578,21.44518856,30.4073578,21.44518856 C30.4073578,21.44518856,30.4073578,6.64233142,30.4073578,6.64233142 C30.4073578,5.07090285,29.95768635,3.64090285,29.05771611,2.35233142 C28.15774987,1.06376041,27.06484842,0.41947428,25.77930938,0.41947428 C25.77930938,0.41947428,30.4073578,0.41947428,30.4073578,0.41947428 C30.4073578,0.41947428,34.88193928,0.41947428,34.88193928,0.41947428 C34.88193928,0.41947428,41.82468206,0.41947428,41.82468206,0.41947428 C41.82468206,0.41947428,43.98473607,0.41947428,43.98473607,0.41947428 C43.98473607,0.41947428,48.69041911,0.41947428,48.69041911,0.41947428 C47.35328564,0.41947428,46.23472113,1.06376041,45.33452612,2.35233142 C44.43473308,3.64090285,43.98473607,5.07090285,43.98473607,6.64233142 C43.98473607,6.64233142,43.98473607,60.19661713,43.98473607,60.19661713Z M66.12570987,61.17262876 C66.12570987,62.30399824,66.50508934,63.40399824,67.26420957,64.47256966 C68.02319578,65.54114109,68.94047927,66.16971252,70.01553667,66.35828395 C70.01553667,66.35828395,64.1333223,66.35828395,64.1333223,66.35828395 C64.1333223,66.35828395,48.00491957,66.35828395,48.00491957,66.35828395 C49.08001747,66.16971252,49.99712651,65.54114109,50.75636526,64.47256966 C51.51511777,63.40399824,51.89466117,62.30399824,51.89466117,61.17262876 C51.89466117,61.17262876,51.89466117,58.53256966,51.89466117,58.53256966 C51.89466117,58.53256966,51.89466117,34.01828395,51.89466117,34.01828395 C51.89466117,34.01828395,51.89466117,28.64399824,51.89466117,28.64399824 C51.89466117,28.64399824,51.89466117,27.60685538,51.89466117,27.60685538 C51.89466117,26.41256966,51.51511777,25.29685538,50.75636526,24.25971252 C49.99712651,23.22256966,49.08001747,22.60971252,48.00491957,22.42114109 C48.00491957,22.42114109,64.22817067,20.06399824,64.22817067,20.06399824 C64.22817067,20.06399824,64.5128824,20.06399824,64.5128824,20.06399824 C65.58798029,20.06399824,66.12570987,20.59828395,66.12570987,21.66685538 C66.12570987,21.66685538,66.12570987,33.64114109,66.12570987,33.64114109 C66.12570987,33.64114109,66.12570987,58.53256966,66.12570987,58.53256966 C66.12570987,58.53256966,66.12570987,61.17262876,66.12570987,61.17262876Z M53.83963056,13.04796256 C52.41686651,11.63367684,51.7050531,9.9208197,51.7050531,7.90939113 C51.7050531,5.89796256,52.41686651,4.16939113,53.83963056,2.72367684 C55.26263725,1.27796256,56.98626332,0.55510541,59.0105006,0.55510541 C61.03405952,0.55510541,62.77345007,1.27796256,64.22817067,2.72367684 C65.68298704,4.16939113,66.41034939,5.89796256,66.41034939,7.90939113 C66.41034939,8.91510541,65.84110929,10.73796256,65.84110929,10.73796256 C65.84110929,10.73796256,64.27569902,13.04796256,64.27569902,13.04796256 C64.27569902,13.04796256,61.90386465,14.60367684,61.90386465,14.60367684 C61.90386465,14.60367684,60.02221052,15.16939113,59.0105006,15.16939113 C56.98626332,15.16939113,55.26263725,14.46227782,53.83963056,13.04796256Z M79.63617943,58.94294916 C80.12400252,60.38858005,80.7915499,61.66143719,81.63882159,62.76143719 C82.48609325,63.86143719,83.47457687,64.74143719,84.60427244,65.40143719 C85.73396801,66.06143719,86.91501338,66.39143719,88.14740854,66.39143719 C88.14740854,66.39143719,69.58445636,66.39143719,69.58445636,66.39143719 C70.81685152,66.39143719,71.99789689,66.06143719,73.12759246,65.40143719 C74.25728803,64.74143719,75.24577165,63.86143719,76.09304333,62.76143719 C76.940315,61.66143719,77.62069983,60.38858005,78.13419782,58.94294916 C78.64769581,57.49715148,78.9044448,56.02000862,78.9044448,54.51143719 C78.9044448,56.02000862,79.14830655,57.49715148,79.63617943,58.94294916Z M105.40094087,33.95715148 C105.40094087,33.95715148,104.63069389,36.69143719,104.63069389,36.69143719 C104.63069389,36.69143719,96.15797712,66.39143719,96.15797712,66.39143719 C96.15797712,66.39143719,82.75567969,18.96572291,82.75567969,18.96572291 C82.39643779,17.83429434,81.72835397,17.26858005,80.75303755,17.26858005 C80.75303755,17.26858005,79.28956829,18.02294916,79.28956829,18.02294916 C79.28956829,18.02294916,78.67337071,19.81429434,78.67337071,19.81429434 C78.67337071,19.81429434,78.67337071,17.55143719,78.67337071,17.55143719 C78.67337071,17.55143719,78.67337071,14.34572291,78.67337071,14.34572291 C78.67337071,14.34572291,78.67337071,6.61429434,78.67337071,6.61429434 C78.67337071,5.04294916,78.18554762,3.61294916,77.20990145,2.32429434 C76.23425527,1.03572291,75.1045597,0.39143719,73.82081474,0.39143719 C73.82081474,0.39143719,91.84459404,0.39143719,91.84459404,0.39143719 C91.84459404,0.39143719,100.08623672,29.33715148,100.08623672,29.33715148 C100.08623672,29.33715148,101.39565658,33.95715148,101.39565658,33.95715148 C101.39565658,33.95715148,102.12739121,35.23000862,102.12739121,35.23000862 C102.12739121,35.23000862,103.39829873,35.74858005,103.39829873,35.74858005 C104.37394491,35.74858005,105.04149228,35.15143719,105.40094087,33.95715148Z M131.58933815,0.39143719 C130.30559319,0.39143719,129.21440997,1.03572291,128.31578849,2.32429434 C127.41716702,3.61294916,126.96785628,5.04294916,126.96785628,6.61429434 C126.96785628,6.61429434,126.96785628,60.16858005,126.96785628,60.16858005 C126.96785628,61.74000862,127.41716702,63.17000862,128.31578849,64.45858005 C129.21440997,65.74715148,130.30559319,66.39143719,131.58933815,66.39143719 C131.58933815,66.39143719,126.96785628,66.39143719,126.96785628,66.39143719 C126.96785628,66.39143719,121.26802863,66.39143719,121.26802863,66.39143719 C121.26802863,66.39143719,115.56820099,66.39143719,115.56820099,66.39143719 C115.56820099,66.39143719,113.41150945,66.39143719,113.41150945,66.39143719 C113.41150945,66.39143719,108.71300288,66.39143719,108.71300288,66.39143719 C110.04829985,66.39143719,111.16495576,65.74715148,112.06357724,64.45858005 C112.96188869,63.17000862,113.41150945,61.74000862,113.41150945,60.16858005 C113.41150945,60.16858005,113.41150945,22.45429434,113.41150945,22.45429434 C113.41150945,22.45429434,113.41150945,19.34294916,113.41150945,19.34294916 C113.41150945,19.34294916,112.75679952,17.50429434,112.75679952,17.50429434 C112.75679952,17.50429434,111.25481791,16.70294916,111.25481791,16.70294916 C110.27917174,16.70294916,109.61162435,17.3,109.25217576,18.49429434 C109.25217576,18.49429434,110.56159563,13.78000862,110.56159563,13.78000862 C110.56159563,13.78000862,114.25878113,0.39143719,114.25878113,0.39143719 C114.25878113,0.39143719,122.5004238,0.39143719,122.5004238,0.39143719 C122.5004238,0.39143719,126.96785628,0.39143719,126.96785628,0.39143719 C126.96785628,0.39143719,131.58933815,0.39143719,131.58933815,0.39143719Z " fill="#F9F0E6" transform="translate(-7, 0)"/> \
		</g> \
	</svg>', {id:"", class:""});
	spanLogoContent.appendTo(spanLogo);
	spanLogo.appendTo(topPanel);
	
	var spanShare = $('<span id="spanShare" class="shareItems" style="justify-content:right;border-block-end:0;border-block-start:0;"/>', {id:"", class:""});
	$(' \
	<a title="Facebook" style="display:inline-flex;align-items:center;" class="top-download" onClick="shareSM(\'Facebook\')"> \
	<i id:"" class="fa fa-facebook"></i></a> \
	<a title="Instagram" style="display:inline-flex;align-items:center;" class="top-download" onClick="shareSM(\'Instagram\')"> \
	<i id:"" class="fa fa-instagram"></i></a> \
	<a title="Meetup" style="display:inline-flex;align-items:center;" class="top-download" onClick="shareSM(\'Meetup\')"> \
	<i id:"" class="fa fa-meetup"></i></a> \
	<a title="Pinterest" style="display:inline-flex;align-items:center;" class="top-download" onClick="shareSM(\'Pinterest\')"> \
	<i id:"" class="fa fa-pinterest"></i></a> \
	<a title="YouTube" style="display:inline-flex;align-items:center;" class="top-download" onClick="shareSM(\'YouTube\')"> \
	<i id:"" class="fa fa-youtube-play"></i></a> \
	', {id:"", class:""}).appendTo(spanShare);
	
	if ((localStorage.getItem('customerLoggedIn') == false) || (localStorage.getItem('customerLoggedIn') == null)) {
		$(' \
		<a id="userLogout" title="Login/SignUp" style="display:inline-flex;align-items:center;" class="top-download" href="javascript:goToLogin()"> \
			<i id="" class="fa fa-user"></i> \
		</a> \
		').appendTo(spanShare);
	} else {
		$(' \
		<a id="userLogin" title="Profile" style="display:inline-flex;align-items:center;" class="top-download" onClick="javascript:document.dispatchEvent(new CustomEvent(\'customerLoggedOut\'))"> \
			<span class="avatar avatar-sm rounded-circle"> \
				<img alt="HiM Profile Picture" src="'+JSON.parse(localStorage.getItem('customerProfile'))['metadata']['profilePicture']+'"> \
			</span> \
		</a> \
		').appendTo(spanShare);
	}

	spanShare.appendTo(topPanel);
	
	var spanTopMenu = $('<span id="spanTopMenu" class="spanTopMenu" style="justify-content:center;"/>', {id:"", class:""});
	var spanTopMenuContent = $(' \
	<a title="LATEST" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'latest\')">LATEST</a> \
	<a title="EDITOR\'S PICK" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'editorspick\')">EDITOR\’S PICK</a> \
	<a title="STYLE" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'style\')">STYLE</a> \
	<a title="BUSINESS" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'business\')">BUSINESS</a> \
	<a title="HEALTH" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'health\')">HEALTH</a> \
	<a title="GEAR" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'gear\')">GEAR</a> \
	<a title="TRAVEL" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'travel\')">TRAVEL</a> \
	<a title="ENTERTAINMENT" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'entertainment\')">ENTERTAINMENT</a> \
	<a title="SKILLS" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'skills\')">SKILLS</a> \
	<a title="PARENTING" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="openCategory(\'parenting\')">PARENTING</a> \
	<a title="PODCASTS" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="#">PODCASTS</a> \
	<a title="SHOP" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="#">SHOP</a> \
	<a title="HiM CLUB" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="gotoClub()">HiM CLUB</a> \
	<a title="MAGAZINE" style="display:inline-flex;align-items:center;" class="spanTopMenuItem" onClick="gotoMagazine()">MAGAZINE</a> \
	', {id:"", class:""});
	spanTopMenuContent.appendTo(spanTopMenu);
	spanTopMenu.appendTo(topPanelMenu);
}

function logoGoToHome() {
	window.open(domain,"_self");
}

function gotoClub() {
	window.open(domain + '/him-club.html',"_self");
}
function gotoMagazine() {
	window.open(domain + '/magazine/magazine.html',"_self");
}

function openCategory(category) {
	window.open(domain + '/editorial/'+category+'/'+category+'.html',"_self");
}

function addShare(shareReg) {
	var shareSpan = $('<span id="" style="flex-direction: row;"></span>');
	shareSpan.appendTo(shareReg);
	
	var topSocialFB = $('<i />', {id:"", title:"FB", style:"padding:1em", class:"shareItems fa fa-facebook"}); //onClick="shareSM('Facebook')"
	var topSocialIG = $('<i />', {id:"", title:"Instagram", style:"padding:1em", class:"shareItems fa fa-instagram"}); //onClick="shareSM('Instagram')"
	var topSocialTR = $('<i />', {id:"", title:"X", style:"padding:1em", class:"shareItems fa fa-meetup"}); //onClick="shareSM('Meetup')"
	var topSocialPT = $('<i />', {id:"", title:"Pinterest", style:"padding:1em", class:"shareItems fa fa-pinterest"}); //onClick="shareSM('Pinterest')"
	var topSocialYT = $('<i />', {id:"", title:"YouTube", style:"padding:1em", class:"shareItems fa fa-youtube-play"}); //onClick="shareSM('YouTube')"
	var topLogin = $('<a title="Login/SignUp" style="padding:1em;display:inline-flex;align-items:center;border-left: 1px solid #F9F0E6 !important;" class="shareItems top-download" href="javascript:goToLogin()"> \
	<i id="" class="fa fa-user"></i></a>', {id:"", class:""});
	var spanNewsletterContent = $(' \
	<a title="Newsletter" style="width:-webkit-fill-available;align-self:stretch;display:inline-flex;align-items:center;padding:1em;border-left: 1px solid #F9F0E6 !important;" class="shareItems top-share" onClick="#"> <!-- onclick="goToNewsletter()" --> \
	<i id="newsletterBtn" style="width:1em;" class="fa fa-envelope"></i></a> \
	', {id:"", class:""});
	
	topSocialFB.attr('onClick','shareSM("Facebook")').appendTo(shareSpan);
	topSocialIG.attr('onClick','shareSM("Instagram")').appendTo(shareSpan);
	topSocialTR.attr('onClick','shareSM("Meetup")').appendTo(shareSpan);
	topSocialPT.attr('onClick','shareSM("Pinterest")').appendTo(shareSpan);
	topSocialYT.attr('onClick','shareSM("YouTube")').appendTo(shareSpan);
	topLogin.appendTo(shareSpan);
	spanNewsletterContent.appendTo(shareSpan);
}

function addSideMenu() {
	var appendReg = document.getElementById('container'),
	sideMenuReg = $('<div id="sidemenu-panel" class="sidemenu-panel"/>'),
	spanEditReg = $('<span />', {'id': '', 'class': ''});

	var spanTopMenuContent = $(' \
	<a title="LATEST" style="" class="spanSideMenuItem" onClick="openCategory(\'latest\')">LATEST</a> \
	<a title="EDITOR\'S PICK" style="" class="spanSideMenuItem" onClick="openCategory(\'editorspick\')">EDITOR\’S PICK</a> \
	<a title="STYLE" style="" class="spanSideMenuItem" onClick="openCategory(\'style\')">STYLE</a> \
	<a title="BUSINESS" style="" class="spanSideMenuItem" onClick="openCategory(\'business\')">BUSINESS</a> \
	<a title="HEALTH" style="" class="spanSideMenuItem" onClick="openCategory(\'health\')">HEALTH</a> \
	<a title="GEAR" style="" class="spanSideMenuItem" onClick="openCategory(\'gear\')">GEAR</a> \
	<a title="TRAVEL" style="" class="spanSideMenuItem" onClick="openCategory(\'travel\')">TRAVEL</a> \
	<a title="ENTERTAINMENT" style="" class="spanSideMenuItem" onClick="openCategory(\'entertainment\')">ENTERTAINMENT</a> \
	<a title="SKILLS" style="" class="spanSideMenuItem" onClick="openCategory(\'skills\')">SKILLS</a> \
	<a title="PARENTING" style="" class="spanSideMenuItem" onClick="openCategory(\'parenting\')">PARENTING</a> \
	<a title="PODCASTS" style="" class="spanSideMenuItem" onClick="#">PODCASTS</a> \
	<a title="SHOP" style="" class="spanSideMenuItem" onClick="#">SHOP</a> \
	<a title="HiM CLUB" style="" class="spanSideMenuItem" onClick="gotoClub()">HiM CLUB</a> \
	<a title="MAGAZINE" style="" class="spanSideMenuItem" onClick="gotoMagazine()">MAGAZINE</a> \
	', {id:"", class:""});

	spanTopMenuContent.appendTo(spanEditReg);
	spanEditReg.appendTo(sideMenuReg);
	sideMenuReg.appendTo(appendReg);

	addShare(sideMenuReg);
}

function toggleSideMenuPanel() {
	if ($("#sidemenu-panel").css("display") === "none") {
		$("#sidemenu-panel").css({
			display: "inline-block",
			width: '100vw',
			height: 'auto'
		});
		$("#sideMenuButton").attr("class", 'fa fa-close');
	} else {
		$("#sidemenu-panel").css({
			display: "none"
		});
		$("#sideMenuButton").attr("class", 'fa fa-bars');
	}
}

/* Set the width and height for the viewport */
function toggleShareMenu() {
	var sharePanel = document.getElementById("share-panel");
	var shareButton = document.getElementById("shareButton");
	
	if (sharePanel.style.display === "none") {
		sharePanel.style.display = "inline-flex";
		shareButton.className = 'fa fa-close';
	} else {
		sharePanel.style.display = "none";
		shareButton.className = 'fa fa-share';
	}
}

function shareSM(platform) {
	switch (platform) {
		case 'Facebook':
			window.open('https://www.facebook.com/himjrnl');
			break;
		case 'Instagram':
			window.open('https://www.instagram.com/himjrnl');
			break;
		case 'Meetup':
			window.open('https://www.meetup.com/thehim');
			break;
		case 'YouTube':
			window.open('https://www.youtube.com/@himjrnl');
			break;
		case 'Pinterest':
			window.open('https://www.pinterest.de/himjrnl');
			break;
	}
}

function scrollToTop() {
	$('#container').scrollTop(0);
}

// Set the width and height for the viewport
function resizeViewport() {

	var deviceWidth = $(window).width(),
	responsiveViewTreshold = 768,
	topPanelMenu = document.getElementById("topPanelMenu"),
	spanTopMenu = document.getElementById("spanTopMenu"),
	newsletterBg = document.getElementsByClassName("newsletter-sc-bgImage-gXZMSp"),
	newsletterBgImg = newsletterBg[0].getElementsByTagName("img");

	if (deviceWidth <= responsiveViewTreshold) {
		topPanelMenu.style.display = "none";
		newsletterBgImg[0].style.objectFit = "fill";
	} else {
		topPanelMenu.style.display = "grid";
		newsletterBgImg[0].style.objectFit = "cover";
		spanTopMenu.remove();
	}

	loadMenu();
}

function adjustScroll() {
	var container = document.getElementById("container"),
	topPanel = document.getElementById("topPanel"),
	toppanelMenu = document.getElementById("topPanelMenu"),
	featureContent = document.getElementById("journalHome-grid-container-featureContent"),
	scrollPosition = container.scrollTop,
	scale = 1 - scrollPosition / 1000;
	
	if (container.scrollTop > 35) {
		topPanel.style.backgroundColor = '#111F4A';
		toppanelMenu.style.backgroundColor = '#111F4A';
	} else {
		topPanel.style.backgroundColor = 'transparent';
		toppanelMenu.style.backgroundColor = 'transparent';
	}

	featureContent.style.transform = `scale(${scale})`;
}

function prepareFeaturedContent(jsonARTICLE, featureContent) {
	var category = jsonARTICLE[0]['category'].replace(/\s/g, '').replace("'", '').toLowerCase();
	referenceCATEGORY = domain + '/editorial/' + category + '/' + category + '.html',
	referenceARTICLE = domain + '/' + jsonARTICLE[0]['docref'].replace(".json", ".html");
	
	$(' \
		<cat-ul itemscope="" itemtype="https://schema.org/BreadcrumbList" class="magazineMasterCategory"> \
			<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem" class="magazineMasterCategoryList"> \
				<a size="3" weight="2" font-family="Tex Gyre Termes" appearance="primary" itemprop="item" class="Link-style__Link-sc-1ce34e85-0 magazineMasterCategoryItem" href="'+referenceCATEGORY+'"> \
					<span id="journalHomeFeatureCategory" itemprop="name">'+jsonARTICLE[0]['category']+'</span> \
				</a> \
			</li> \
		</cat-ul> \
		<h1 size="5" id="journalHomeFeatureTitle" class="magazineMastheadTitle" style="margin: 0; color: white;">'+jsonARTICLE[0]['title']+'</h1> \
		<h2 size="1" id="journalHomeFeatureExcerpt" class="magazineMastheadExcerpt" style="margin: 2em 0; color: white; margin-block-start: 0.3em; margin-block-end: 0.3em;">'+jsonARTICLE[0]['excerpt']+'</h2> \
		<cat-ul itemscope="" itemtype="https://schema.org/BreadcrumbList" class="magazineMasterCategory"> \
			<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem" class="magazineMasterCategoryList"> \
				<a size="3" weight="2" font-family="Tex Gyre Termes" appearance="primary" itemprop="item" class="Link-style__Link-sc-1ce34e85-0 magazineMasterCategoryItem" href="'+referenceARTICLE+'"> \
					<span itemprop="name">READ MORE</span> \
				</a> \
				<svg aria-hidden="true" focusable="false" data-prefix="fat" data-icon="angle-right" class="svg-inline--fa fa-angle-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"> \
					<path fill="currentColor" d="M269.7 250.3c3.1 3.1 3.1 8.2 0 11.3l-176 176c-3.1 3.1-8.2 3.1-11.3 0s-3.1-8.2 0-11.3L252.7 256 82.3 85.7c-3.1-3.1-3.1-8.2 0-11.3s8.2-3.1 11.3 0l176 176z"></path> \
				</svg> \
				<meta itemprop="position" content="1"> \
			</li> \
		</cat-ul> \
	').appendTo("#"+featureContent+"-grid-container-featureContent");
	
	/** Update Photo **/
	$(' \
	<div style="opacity: 1;"> \
		<picture style="bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%"> \
			<img style="width: 100vw;" alt="'+jsonARTICLE[0]['featuredContent'][0]['alt']+'" src="'+jsonARTICLE[0]['featuredContent'][0]['src']+'" width="100vw"> \
		</picture> \
	</div> \
	').appendTo('#'+featureContent+'FeaturedContentBackground');
}

function sortEditorialArticles(jsonARTICLE) {
	var articleTmp;
	for (let i = 0; i < (jsonARTICLE.length - 1); i++) {
		for (let j = 0; j < (jsonARTICLE.length - i - 1); j++) {
			if (new Date(jsonARTICLE[(j+1)]['date']).getTime() >= new Date(jsonARTICLE[j]['date']).getTime()) {
				articleTmp = jsonARTICLE[(j+1)];
				jsonARTICLE[(j+1)] = jsonARTICLE[j];
				jsonARTICLE[j] = articleTmp;
			}
		}
	}
	return jsonARTICLE;
}

function prepareEditorialCategories() {
	const categories = ['editorspick', 'style', 'business', 'health', 'gear', 'travel', 'entertainment', 'skills', 'parenting'];

	/* For latest category */
	$.getJSON(domain + '/editorial/latest/latest.json', function (data) {
		$.each(data, function(key, jsonARTICLE) {
			var sortedARRAY = sortEditorialArticles(jsonARTICLE);
			loadCATEGORY(sortedARRAY, 'latest');
			prepareFeaturedContent(sortedARRAY, "journalHome");
			$("#latest-content-sc-furtherReadingTitle-viewAll").attr("href", domain + ('/editorial/latest/latest.json').replace(".json", ".html"));
		});
	});

	/* For all other categories */
	for (let category = 0; category < categories.length; category++) {
		$.getJSON(domain + '/editorial/' + categories[category] + '/' + categories[category] + '.json', function (data) {
			var ARRAY = [];
			$.each(data, function(key, jsonARTICLE) {
				for (let i = 0; i < jsonARTICLE.length; i++) {
					ARRAY.push(jsonARTICLE[i]);
				}
			});
			var sortedARRAY = sortEditorialArticles(ARRAY);
			loadCATEGORY(sortedARRAY, categories[category]);
			prepareFeaturedContent(sortedARRAY, categories[category]);
			$("#" + categories[category] + "-content-sc-furtherReadingTitle-viewAll").attr("href", domain + '/editorial/' + categories[category] + '/' + categories[category] + '.html');
		});
	}
}

function checkArticleDATE(jsonARTICLE) {
	var articleDATE = (new Date().getTime() - new Date(jsonARTICLE['date']).getTime()) / 1000;
	// showing the relative timestamp.
	if (articleDATE < 60) {
		return Math.round(articleDATE) + " seconds ago";
	} else if (articleDATE < 3600) {
		return Math.round(articleDATE / 60) + " minutes ago";
	} else if (articleDATE < 86400) {
		return Math.round(articleDATE / 3600) + " hours ago";
	} else if (articleDATE < 2620800) {
		return Math.round(articleDATE / 86400) + " days ago";
	} else if (articleDATE < 31449600) {
		return Math.round(articleDATE / 2620800) + " months ago";
	} else {
		return Math.round(articleDATE / 31449600) + " years ago";
	}
}

function appendARTICLE(jsonARTICLE, ROW) {
	jsonARTICLE = JSON.parse(jsonARTICLE);
	var reference = jsonARTICLE['docref'].substr(0, jsonARTICLE['docref'].lastIndexOf(".")) + ".html",
	articleDATE = checkArticleDATE(jsonARTICLE);

	$(' \
		<a class="content-sc-furtherReading-postGrid-postExcerpt-kuccfR" href='+reference+'> \
			<div type="rectangle" size="4" class="content-sc-furtherReading-postGrid-postExcerpt-thumbnail-NrRzK"> \
				<img alt="'+jsonARTICLE['featuredContent'][0]['alt']+'" decoding="async" sizes="(max-width: 640px) 410px, 820px" src="'+jsonARTICLE['featuredContent'][0]['src']+'" style="inset: 0px; height: 100%; object-fit: cover; position: absolute; width: 100%;"> \
			</div> \
			<div class="content-sc-furtherReading-postGrid-postExcerpt-body-gTXfgv"> \
				<div class="content-sc-furtherReading-postGrid-postExcerpt-category-dLpoZD">'+jsonARTICLE['category']+'<span class="content-sc-furtherReading-postGrid-postExcerpt-date-dGfbVg"> — '+articleDATE+'</span></div> \
				<div class="content-sc-furtherReading-postGrid-postExcerpt-title-kITLCM"> \
					<h2 size="1" class="content-sc-furtherReading-postGrid-postExcerpt-titleHeading-bhRlhf">'+jsonARTICLE['title']+'</h2> \
				</div> \
			</div> \
		</a>\
	').appendTo(ROW);
}

function importLatest() {
	$.getJSON(domain + '/editorial/latest/latest.json', function (data) {
		$.each(data, function(key, jsonARTICLE) {
			var articleCmp = jsonARTICLE[0];
			for (let articleKey = 0; articleKey < (jsonARTICLE.length - 1); articleKey++) {
				if (new Date(jsonARTICLE[(articleKey+1)]['date']).getTime() >= new Date(articleCmp['date']).getTime()) {
					articleCmp = jsonARTICLE[(articleKey+1)];
				}
			}
		});
	});
}

function loadCATEGORY(articleARRAY, category) {
	var ROW = document.getElementById(category+"-readings-row"),
	furtherReadingsROW = document.getElementById(category+"-furtherReadings-row"),
	/* categoryFeatureContent = document.getElementById(category+"featureContent"), */
	jsonARTICLE;
	
	if (articleARRAY.length < 3) {
		furtherReadingsROW.remove();
		/* categoryFeatureContent.remove(); */
	} else if (articleARRAY.length >= 3 && articleARRAY.length < 6) {
		for (let key = 0; key < 3; key++) {
			jsonARTICLE = articleARRAY[key];
			appendARTICLE(JSON.stringify(jsonARTICLE), ROW);
		}
	} else if (articleARRAY.length >= 6) {
		for (let key = 0; key < 6; key++) {
			jsonARTICLE = articleARRAY[key];
			appendARTICLE(JSON.stringify(jsonARTICLE), ROW);
		}
	}
}

function loadFooter() {
	$(' \
	<span style="display: inline-block; width: 100vw; align-items: center; margin-top: 1em;"> \
		<span class="spanLogo" style="cursor:pointer; justify-content:center;  margin-left: 1.8em;" onclick="logoGoToHome()"> \
			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,62,62" style="height:62px;z-index:1;" overflow="visible"> \
				<g> \
					<path d="M0,0M0,0M22.85868978,29.83151605 C22.85868978,29.83151605,21.52922129,31.58355775,21.52922129,31.58355775 C21.52922129,31.58355775,19.55543668,32.97151789,19.55543668,32.97151789 C19.55543668,32.97151789,19.37171059,33.38687951,19.37171059,33.38687951 C19.37171059,33.38687951,18.95542033,33.78584687,18.95542033,33.78584687 C18.95542033,33.78584687,17.69953346,34.75626669,17.69953346,34.75626669 C17.69953346,34.75626669,15.30948331,36.54282677,15.30948331,36.54282677 C15.30948331,36.54282677,13.69365569,37.24190361,13.53234178,38.1494594 C13.53234178,38.1494594,13.58812107,38.80730234,13.58812107,38.80730234 C13.58812107,38.80730234,13.24883216,40.53948291,13.24883216,40.53948291 C13.24883216,40.53948291,12.56772581,44.37140008,12.56772581,44.37140008 C12.20218348,46.16295049,12.06913073,47.97149915,11.81566829,49.75081415 C11.67937712,50.78268638,11.43926741,51.8684526,11.41502225,52.88818264 C11.41502225,52.88818264,11.45615118,54.42344312,11.3640034,55.2951988 C10.88913343,59.20348303,10.1984039,63.17756418,9.84397297,67.11522605 C9.56623624,69.91412611,9.05562493,75.65675256,6.18868854,76.85834576 C4.62069944,77.52688348,3.07463966,76.94306336,2.01048471,75.68243579 C1.21010575,74.71139984,0.3782954,73.03602902,0.05967971,71.64461395 C0.05967971,71.64461395,0,70.57655989,0,70.57655989 C0.33075256,69.76443906,1.4095281,70.76264106,1.4095281,70.76264106 C2.52261602,71.74294509,3.59038982,73.06723782,4.99127846,73.57822372 C4.99127846,73.57822372,5.79113447,73.7590662,6.07283441,72.88080265 C6.67917429,71.14788826,6.91724141,69.10185714,7.01574996,67.31102397 C7.31312627,62.89963309,7.79162671,58.44004915,8.27045177,53.98039646 C8.71453108,49.53867997,9.08111373,45.09129808,9.86143339,40.61287231 C9.86143339,40.61287231,8.15598651,41.81614879,8.15598651,41.81614879 C8.15598651,41.81614879,7.02888785,42.85720699,7.02888785,42.85720699 C7.02888785,42.85720699,4.82132516,44.41214516,4.82132516,44.41214516 C4.82132516,44.41214516,3.1475077,45.55717888,2.21923599,45.71328986 C2.21923599,45.71328986,-0.21181798,45.15970658,0.82181665,43.7810395 C0.82181665,43.7810395,1.96471494,42.70724631,1.96471494,42.70724631 C3.55808171,41.51610626,5.10850929,40.30172208,6.74335922,39.31788498 C6.74335922,39.31788498,8.61351206,37.98366698,8.61351206,37.98366698 C8.61351206,37.98366698,9.60110965,37.19778046,9.60110965,37.19778046 C9.60110965,37.19778046,10.74368099,36.42321908,10.74368099,36.42321908 C10.74368099,36.42321908,11.16875135,34.73821523,11.16875135,34.73821523 C11.49338065,33.88343657,13.17711089,33.33233409,13.17711089,33.33233409 C13.17711089,33.33233409,14.56102865,33.76020034,14.56102865,33.76020034 C14.56102865,33.76020034,14.82700193,33.94327063,14.82700193,33.94327063 C14.82700193,33.94327063,15.46710261,33.52020201,15.46710261,33.52020201 C15.46710261,33.52020201,16.69567758,32.79282765,16.69567758,32.79282765 C18.33911746,31.85056826,19.99079279,30.94981156,21.67575575,30.21468213 C21.67575575,30.21468213,22.24578191,30.01143994,22.24578191,30.01143994 C22.24578191,30.01143994,22.47245914,29.61932965,22.47245914,29.61932965 C22.47245914,29.61932965,22.85868978,29.83151605,22.85868978,29.83151605Z M11.64395292,46.26430435 C12.09078497,43.92708405,12.28825885,41.4501727,12.802296,39.07673537 C12.31830529,40.83946775,11.59268076,43.42391,11.36669793,45.18373054 C11.06890128,47.2029074,10.5563993,52.82456475,10.28955001,55.29752281 C10.58845421,53.17421897,11.35006194,47.65251156,11.64395292,46.26430435Z M27.89766567,29.77014718 C27.89766567,29.77014718,27.85071135,29.83463909,27.85071135,29.83463909 C26.31403261,32.92146336,25.08525754,36.04990174,23.84185376,39.1055134 C22.72477488,41.89480433,21.45934901,44.84107612,20.55902749,47.5181689 C20.55902749,47.5181689,20.91289666,46.89279624,20.91289666,46.89279624 C20.91289666,46.89279624,20.08588467,49.93361692,20.08588467,49.93361692 C20.08588467,49.93361692,19.03576374,53.65321632,19.03576374,53.65321632 C22.38706373,48.86327683,25.12987066,44.02652252,27.23929688,39.31677703 C26.39521712,41.08015112,25.49692107,42.8717323,24.52267911,44.58202616 C24.52267911,44.58202616,22.76150108,47.74485766,22.76150108,47.74485766 C22.76150108,47.74485766,21.91636073,48.90593444,21.91636073,48.90593444 C21.91636073,48.90593444,22.28468376,48.35358832,22.28468376,48.35358832 C22.28468376,48.35358832,23.54101026,46.25596766,23.54101026,46.25596766 C24.28779791,44.90460965,25.02747079,43.51673497,25.71287722,42.15695087 C27.12319792,39.33624925,28.36366522,36.56383805,29.25644231,33.85052355 C29.69549921,32.45742925,30.12719048,31.02802423,30.33470236,29.67441005 C30.33470236,29.67441005,29.99280613,27.07761943,29.99280613,27.07761943 C29.99280613,27.07761943,27.97693933,29.5683211,27.97693933,29.5683211 C27.97693933,29.5683211,27.94460095,29.70564136,27.94460095,29.70564136 C27.94460095,29.70564136,27.9372862,29.66922564,27.9372862,29.66922564 C27.9372862,29.66922564,27.89032613,29.73373124,27.89032613,29.73373124 C27.89032613,29.73373124,27.89766567,29.77014718,27.89766567,29.77014718Z M17.86033899,54.6832214 C17.86033899,54.6832214,17.82845435,54.80076433,17.82845435,54.80076433 C17.82845435,54.80076433,17.84649248,55.63421631,17.84649248,55.63421631 C17.84649248,55.63421631,19.16978593,50.28846222,19.16978593,50.28846222 C19.45031776,49.29905632,19.96985833,48.30652827,20.18884765,47.30878164 C20.45469852,46.24653437,20.85104904,45.23739547,21.29442735,44.16376014 C21.79491694,42.77894169,26.28030847,30.80935599,26.28030847,30.80935599 C26.28030847,30.80935599,22.29321754,40.18953496,21.95130459,41.17066959 C21.17314182,43.26172733,20.0585607,45.44938914,19.50844283,47.50007937 C18.9157821,49.90011816,17.97103303,52.4676522,17.86033899,54.6832214Z M21.09316424,50.43925802 C21.09316424,50.43925802,22.12995585,49.43925802,22.12995585,49.43925802 C22.12995585,49.43925802,21.09316424,50.43925802,21.09316424,50.43925802Z M28.09022161,29.98582502 C28.09022161,29.98582502,28.78324803,28.98582502,28.78324803,28.98582502 C28.78324803,28.98582502,27.78324803,29.24755273,27.78324803,29.24755273 C27.78324803,29.24755273,28.09022161,29.98582502,28.09022161,29.98582502Z M18.86524595,54.06377619 C18.86524595,54.06377619,17.82845435,55.06377619,17.82845435,55.06377619 C17.82845435,55.06377619,18.86524595,54.06377619,18.86524595,54.06377619Z M37.52547659,51.84452161 C37.52547659,51.84452161,37.96510442,51.85431707,37.96510442,51.85431707 C37.96510442,51.85431707,36.9387654,54.79759171,36.9387654,54.79759171 C36.30035536,56.09282431,35.60759178,57.41621721,34.90739501,58.70321491 C33.6557085,61.12024361,32.56328844,63.73511666,30.77199147,66.15025643 C30.10723062,67.01646081,29.61409782,67.54380263,28.57606356,68.04281641 C27.32340612,68.66635298,26.43624008,68.72340632,25.51245296,68.5987666 C25.51245296,68.5987666,23.80598992,68.15553877,23.80598992,68.15553877 C23.80598992,68.15553877,24.19741716,68.31471589,24.19741716,68.31471589 C24.19741716,68.31471589,23.7004685,67.92899662,23.7004685,67.92899662 C23.7004685,67.92899662,23.72978063,68.07438915,23.72978063,68.07438915 C23.72978063,68.07438915,22.86222135,67.03608982,22.86222135,67.03608982 C22.86222135,67.03608982,22.80464099,65.25691476,22.80464099,65.25691476 C23.00898583,64.18677156,23.21299657,63.11592425,23.36314394,62.0734418 C23.56012074,60.96648918,24.09004215,59.72739059,24.56569693,58.51638179 C24.56569693,58.51638179,25.60800758,56.24831703,25.60800758,56.24831703 C25.60800758,56.24831703,25.52550217,56.73316045,25.52550217,56.73316045 C25.52550217,56.73316045,26.09081283,55.07375189,26.09081283,55.07375189 C26.09081283,55.07375189,25.9499563,55.26714861,25.9499563,55.26714861 C25.9499563,55.26714861,27.01168503,51.90369389,27.01168503,51.90369389 C25.22325436,54.03544704,23.94943488,56.34276232,22.63903055,58.46851558 C22.00361134,59.48082766,21.45177187,60.61067344,20.63161187,61.59807011 C20.63161187,61.59807011,19.98467001,62.25449715,19.98467001,62.25449715 C19.98467001,62.25449715,19.5736618,63.19085473,19.5736618,63.19085473 C18.6034742,65.22063739,17.27844574,67.2733226,16.2466652,69.29478915 C16.2466652,69.29478915,15.50392579,70.96564818,15.50392579,70.96564818 C15.50392579,70.96564818,15.27341263,71.60756577,15.27341263,71.60756577 C14.67035285,72.48251036,12.68652091,72.74479173,12.68652091,72.74479173 C12.68652091,72.74479173,11.88011812,71.71645135,11.88011812,71.71645135 C11.39546835,70.20069364,11.4926083,68.2603547,11.60377477,66.47156273 C11.88421913,62.54964208,12.45826161,58.483595,13.46996341,54.2983648 C14.32684199,50.586791,16.01782453,46.77689956,17.5784634,42.91396923 C17.5784634,42.91396923,17.9381397,41.72271898,17.9381397,41.72271898 C17.9381397,41.72271898,17.69724863,42.61121399,17.69724863,42.61121399 C17.69724863,42.61121399,18.18017119,41.43638739,18.18017119,41.43638739 C18.18017119,41.43638739,18.06429255,41.45663005,18.06429255,41.45663005 C18.06429255,41.45663005,18.92907386,39.19960099,19.36218364,38.37266912 C19.95351281,37.14190502,20.60662207,35.91943798,21.31397132,34.66889407 C22.54817537,32.46223553,23.69885587,30.13801394,25.54888782,28.01448622 C26.5244823,26.90657121,27.72468632,25.72265391,29.15017702,25.06510186 C29.15017702,25.06510186,31.15183246,24.59156984,31.15183246,24.59156984 C31.15183246,24.59156984,32.30527998,25.56237241,32.30527998,25.56237241 C32.30527998,25.56237241,31.86996271,25.18471452,31.86996271,25.18471452 C31.86996271,25.18471452,32.56129775,26.83699264,32.56129775,26.83699264 C32.56129775,26.83699264,32.64786975,26.67141993,32.64786975,26.67141993 C32.64786975,26.67141993,32.3481902,30.84625889,32.3481902,30.84625889 C32.06156472,32.40189796,31.55052533,34.03317831,30.97793771,35.65637388 C29.6448388,39.16019656,27.96848793,43.04285807,25.63975194,46.66033793 C25.63975194,46.66033793,24.10802501,48.57881141,24.10802501,48.57881141 C24.10802501,48.57881141,22.91345886,50.68455258,22.91345886,50.68455258 C21.72195923,52.50730941,20.40729813,54.3134206,19.02365923,56.07495966 C18.21824065,57.13494967,17.9584704,57.63121377,17.68525281,58.65703295 C17.45898697,59.61834847,17.28699251,60.55161493,17.05340878,61.47647506 C16.64052274,63.29823217,16.28189762,65.09185182,15.98484374,66.89375669 C16.71721424,65.4695326,17.5112835,64.05345839,18.35955859,62.60934145 C17.76359767,63.52082596,17.35565659,64.17418848,17.35565659,64.17418848 C17.35565659,64.17418848,22.95098461,55.04688089,23.55404867,54.17191576 C24.94798559,52.16396987,27.42795582,48.10646388,30.21052763,48.83666194 C31.7940549,49.26335295,31.03383476,51.14425858,30.43905184,52.65813003 C29.43040429,55.39125132,28.16199658,58.62057749,27.70344558,61.10911551 C27.70344558,61.10911551,28.08933057,60.34657417,28.08933057,60.34657417 C28.08933057,60.34657417,27.78310475,62.9975696,27.78310475,62.9975696 C27.78310475,62.9975696,28.10489491,64.59956869,28.10489491,64.59956869 C28.10489491,64.59956869,30.3567367,62.38885685,30.3567367,62.38885685 C32.0543609,60.10308205,33.55971569,57.75604205,35.07271239,55.44536448 C35.6143794,54.56191215,36.14833628,53.64216615,36.80574662,52.73922803 C36.80574662,52.73922803,37.52547659,51.84452161,37.52547659,51.84452161Z M60.3500838,34.89332567 C60.3500838,34.89332567,60.2889819,35.77416789,60.2889819,35.77416789 C60.2889819,35.77416789,58.70217998,38.51739756,58.70217998,38.51739756 C58.70217998,38.51739756,55.92633217,43.23563754,55.92633217,43.23563754 C55.20551119,44.45271256,54.2886991,45.72430882,53.56778206,46.94116324 C52.80135615,48.275495,52.16860748,49.5873899,51.26884712,50.94380568 C50.30687369,52.33244619,49.15610567,53.81466008,47.77744031,55.18871522 C46.7830986,56.0743162,45.78849581,56.61436235,44.63344244,57.0441792 C42.95874533,57.63266707,41.38602855,57.69593474,40.15351061,57.39653367 C40.15351061,57.39653367,39.30421568,56.94655853,39.30421568,56.94655853 C39.30421568,56.94655853,39.00866528,56.16228045,39.00866528,56.16228045 C39.00866528,56.16228045,39.03949981,54.59937923,39.03949981,54.59937923 C39.03949981,54.59937923,39.33996118,52.66238278,39.33996118,52.66238278 C39.33996118,52.66238278,39.49849581,50.70538028,39.49849581,50.70538028 C39.49849581,50.70538028,39.30758292,49.07006841,39.30758292,49.07006841 C39.30758292,49.07006841,39.78165485,47.65240229,39.78165485,47.65240229 C39.78165485,47.65240229,39.36451323,48.66523647,39.36451323,48.66523647 C39.36451323,48.66523647,39.06123934,49.90043382,39.06123934,49.90043382 C39.06123934,49.90043382,38.8199601,51.10385258,38.8199601,51.10385258 C38.8199601,51.10385258,38.48809926,52.54084955,38.48809926,52.54084955 C38.48809926,52.54084955,38.65594844,53.71975107,38.65594844,53.71975107 C38.65594844,53.71975107,38.61934008,54.91106533,38.61934008,54.91106533 C38.61934008,54.91106533,38.83808081,55.31304267,38.83808081,55.31304267 C38.83808081,55.31304267,38.83271948,55.97216022,38.83271948,55.97216022 C38.83271948,55.97216022,39.25873656,57.06422942,39.25873656,57.06422942 C38.12241629,56.33974363,38.00118485,55.09010509,37.97552982,53.69668216 C38.05146078,52.25182602,38.07700193,50.89546991,38.24380007,49.43260454 C38.57562596,46.51217547,39.73102222,43.16859675,41.70158633,39.94404369 C43.29972348,37.2032637,45.59615412,34.5630633,49.05416585,33.24010879 C50.33756716,32.76477566,51.78840146,32.44347767,52.7453362,32.74039483 C53.78194093,33.08455932,53.92416597,34.1359761,53.67461082,35.29652846 C53.195,37.37287151,51.39850323,39.75604529,49.6839854,41.86255551 C48.96596916,42.74949263,48.18532507,43.66957956,47.32495729,44.53663413 C47.32495729,44.53663413,45.44593731,46.16560565,45.44593731,46.16560565 C45.44593731,46.16560565,44.43516502,46.97008521,44.43516502,46.97008521 C44.43516502,46.97008521,43.80783237,47.62315665,43.80783237,47.62315665 C43.80783237,47.62315665,43.81385017,49.02615146,43.81385017,49.02615146 C43.81385017,49.02615146,43.63827631,50.89830351,43.63827631,50.89830351 C43.53055473,52.07879575,43.88340244,54.52163067,43.88340244,54.52163067 C45.00545,56.33153763,49.57824425,50.26129237,50.39569621,49.18148322 C50.39569621,49.18148322,51.90578605,47.08744099,51.90578605,47.08744099 C51.90578605,47.08744099,52.69770805,45.88072539,52.69770805,45.88072539 C52.69770805,45.88072539,52.76299318,45.51875031,52.76299318,45.51875031 C53.35059598,44.32436193,54.1962068,43.04241151,54.9795908,41.79319037 C55.9248835,40.3194192,56.73644584,38.8679521,57.60203327,37.34176245 C58.05332907,36.49860877,59.04942115,34.24867216,60.2790709,34.87783254 C60.2790709,34.87783254,60.28758736,34.92047196,60.28758736,34.92047196 C60.28758736,34.92047196,60.3500838,34.89332567,60.3500838,34.89332567Z M44.98033315,43.32354506 C44.98033315,43.32354506,44.44130336,45.10263091,44.44130336,45.10263091 C46.29470107,43.34634106,47.91014752,41.43176328,49.1164639,39.54181794 C49.1164639,39.54181794,49.99063177,38.05799421,49.99063177,38.05799421 C49.99063177,38.05799421,50.49584858,37.1402202,50.49584858,37.1402202 C50.49584858,37.1402202,50.36786628,36.50307308,50.36786628,36.50307308 C50.36786628,36.50307308,50.43861176,35.48227747,50.43861176,35.48227747 C50.43861176,35.48227747,49.03290368,34.66282634,49.03290368,34.66282634 C49.03290368,34.66282634,48.04504007,35.92437306,48.04504007,35.92437306 C48.04504007,35.92437306,47.1254903,37.52542564,47.1254903,37.52542564 C46.07811066,39.52074133,45.68117814,41.32006465,45.01712267,43.16369835 C45.01712267,43.16369835,44.98033315,43.32354506,44.98033315,43.32354506Z " fill="white" transform="translate(7, -25)"/> \
				</g> \
			</svg> \
			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0,0,132,66" style="height:66px;" overflow="visible"> \
				<g> \
					<path d="M0,0M0,0M18.75940079,21.44518856 C18.75940079,21.44518856,18.75940079,27.19661713,18.75940079,27.19661713 C18.75940079,28.76804571,19.20904433,30.19802492,20.10954499,31.48661713 C21.00917434,32.77518856,22.12773834,33.41947428,23.46487232,33.41947428 C22.12773834,33.41947428,21.00917434,34.06376041,20.10954499,35.35233142 C19.20904433,36.64090285,18.75940079,38.07090285,18.75940079,39.64233142 C18.75940079,39.64233142,18.75940079,42.84804571,18.75940079,42.84804571 C18.75940079,42.84804571,18.75940079,60.19661713,18.75940079,60.19661713 C18.75940079,61.76804571,19.20904433,63.19802492,20.10954499,64.48661713 C21.00917434,65.77518856,22.12773834,66.41947428,23.46487232,66.41947428 C23.46487232,66.41947428,18.75940079,66.41947428,18.75940079,66.41947428 C18.75940079,66.41947428,13.1277981,66.41947428,13.1277981,66.41947428 C13.1277981,66.41947428,7.41926458,66.41947428,7.41926458,66.41947428 C7.41926458,66.41947428,5.18213657,66.41947428,5.18213657,66.41947428 C5.18213657,66.41947428,0.55359588,66.41947428,0.55359588,66.41947428 C1.83933696,66.41947428,2.93215151,65.77518856,3.83213883,64.48661713 C4.73259699,63.19802492,5.18213657,61.76804571,5.18213657,60.19661713 C5.18213657,60.19661713,5.18213657,6.64233142,5.18213657,6.64233142 C5.18213657,5.07090285,4.73259699,3.64090285,3.83213883,2.35233142 C2.93215151,1.06376041,1.83933696,0.41947428,0.55359588,0.41947428 C0.55359588,0.41947428,5.18213657,0.41947428,5.18213657,0.41947428 C5.18213657,0.41947428,7.41926458,0.41947428,7.41926458,0.41947428 C7.41926458,0.41947428,14.36207562,0.41947428,14.36207562,0.41947428 C14.36207562,0.41947428,18.75940079,0.41947428,18.75940079,0.41947428 C18.75940079,0.41947428,23.46487232,0.41947428,23.46487232,0.41947428 C22.12773834,0.41947428,21.00917434,1.06376041,20.10954499,2.35233142 C19.20904433,3.64090285,18.75940079,5.07090285,18.75940079,6.64233142 C18.75940079,6.64233142,18.75940079,21.44518856,18.75940079,21.44518856Z M43.98473607,60.19661713 C43.98473607,61.76804571,44.43473308,63.19802492,45.33452612,64.48661713 C46.23472113,65.77518856,47.35328564,66.41947428,48.69041911,66.41947428 C48.69041911,66.41947428,43.98473607,66.41947428,43.98473607,66.41947428 C43.98473607,66.41947428,41.82468206,66.41947428,41.82468206,66.41947428 C41.82468206,66.41947428,36.11621693,66.41947428,36.11621693,66.41947428 C36.11621693,66.41947428,30.4073578,66.41947428,30.4073578,66.41947428 C30.4073578,66.41947428,25.77930938,66.41947428,25.77930938,66.41947428 C27.06484842,66.41947428,28.15774987,65.77518856,29.05771611,64.48661713 C29.95768635,63.19802492,30.4073578,61.76804571,30.4073578,60.19661713 C30.4073578,60.19661713,30.4073578,42.84804571,30.4073578,42.84804571 C30.4073578,42.84804571,30.4073578,39.64233142,30.4073578,39.64233142 C30.4073578,38.07090285,29.95768635,36.64090285,29.05771611,35.35233142 C28.15774987,34.06376041,27.06484842,33.41947428,25.77930938,33.41947428 C27.06484842,33.41947428,28.15774987,32.77518856,29.05771611,31.48661713 C29.95768635,30.19802492,30.4073578,28.76804571,30.4073578,27.19661713 C30.4073578,27.19661713,30.4073578,21.44518856,30.4073578,21.44518856 C30.4073578,21.44518856,30.4073578,6.64233142,30.4073578,6.64233142 C30.4073578,5.07090285,29.95768635,3.64090285,29.05771611,2.35233142 C28.15774987,1.06376041,27.06484842,0.41947428,25.77930938,0.41947428 C25.77930938,0.41947428,30.4073578,0.41947428,30.4073578,0.41947428 C30.4073578,0.41947428,34.88193928,0.41947428,34.88193928,0.41947428 C34.88193928,0.41947428,41.82468206,0.41947428,41.82468206,0.41947428 C41.82468206,0.41947428,43.98473607,0.41947428,43.98473607,0.41947428 C43.98473607,0.41947428,48.69041911,0.41947428,48.69041911,0.41947428 C47.35328564,0.41947428,46.23472113,1.06376041,45.33452612,2.35233142 C44.43473308,3.64090285,43.98473607,5.07090285,43.98473607,6.64233142 C43.98473607,6.64233142,43.98473607,60.19661713,43.98473607,60.19661713Z M66.12570987,61.17262876 C66.12570987,62.30399824,66.50508934,63.40399824,67.26420957,64.47256966 C68.02319578,65.54114109,68.94047927,66.16971252,70.01553667,66.35828395 C70.01553667,66.35828395,64.1333223,66.35828395,64.1333223,66.35828395 C64.1333223,66.35828395,48.00491957,66.35828395,48.00491957,66.35828395 C49.08001747,66.16971252,49.99712651,65.54114109,50.75636526,64.47256966 C51.51511777,63.40399824,51.89466117,62.30399824,51.89466117,61.17262876 C51.89466117,61.17262876,51.89466117,58.53256966,51.89466117,58.53256966 C51.89466117,58.53256966,51.89466117,34.01828395,51.89466117,34.01828395 C51.89466117,34.01828395,51.89466117,28.64399824,51.89466117,28.64399824 C51.89466117,28.64399824,51.89466117,27.60685538,51.89466117,27.60685538 C51.89466117,26.41256966,51.51511777,25.29685538,50.75636526,24.25971252 C49.99712651,23.22256966,49.08001747,22.60971252,48.00491957,22.42114109 C48.00491957,22.42114109,64.22817067,20.06399824,64.22817067,20.06399824 C64.22817067,20.06399824,64.5128824,20.06399824,64.5128824,20.06399824 C65.58798029,20.06399824,66.12570987,20.59828395,66.12570987,21.66685538 C66.12570987,21.66685538,66.12570987,33.64114109,66.12570987,33.64114109 C66.12570987,33.64114109,66.12570987,58.53256966,66.12570987,58.53256966 C66.12570987,58.53256966,66.12570987,61.17262876,66.12570987,61.17262876Z M53.83963056,13.04796256 C52.41686651,11.63367684,51.7050531,9.9208197,51.7050531,7.90939113 C51.7050531,5.89796256,52.41686651,4.16939113,53.83963056,2.72367684 C55.26263725,1.27796256,56.98626332,0.55510541,59.0105006,0.55510541 C61.03405952,0.55510541,62.77345007,1.27796256,64.22817067,2.72367684 C65.68298704,4.16939113,66.41034939,5.89796256,66.41034939,7.90939113 C66.41034939,8.91510541,65.84110929,10.73796256,65.84110929,10.73796256 C65.84110929,10.73796256,64.27569902,13.04796256,64.27569902,13.04796256 C64.27569902,13.04796256,61.90386465,14.60367684,61.90386465,14.60367684 C61.90386465,14.60367684,60.02221052,15.16939113,59.0105006,15.16939113 C56.98626332,15.16939113,55.26263725,14.46227782,53.83963056,13.04796256Z M79.63617943,58.94294916 C80.12400252,60.38858005,80.7915499,61.66143719,81.63882159,62.76143719 C82.48609325,63.86143719,83.47457687,64.74143719,84.60427244,65.40143719 C85.73396801,66.06143719,86.91501338,66.39143719,88.14740854,66.39143719 C88.14740854,66.39143719,69.58445636,66.39143719,69.58445636,66.39143719 C70.81685152,66.39143719,71.99789689,66.06143719,73.12759246,65.40143719 C74.25728803,64.74143719,75.24577165,63.86143719,76.09304333,62.76143719 C76.940315,61.66143719,77.62069983,60.38858005,78.13419782,58.94294916 C78.64769581,57.49715148,78.9044448,56.02000862,78.9044448,54.51143719 C78.9044448,56.02000862,79.14830655,57.49715148,79.63617943,58.94294916Z M105.40094087,33.95715148 C105.40094087,33.95715148,104.63069389,36.69143719,104.63069389,36.69143719 C104.63069389,36.69143719,96.15797712,66.39143719,96.15797712,66.39143719 C96.15797712,66.39143719,82.75567969,18.96572291,82.75567969,18.96572291 C82.39643779,17.83429434,81.72835397,17.26858005,80.75303755,17.26858005 C80.75303755,17.26858005,79.28956829,18.02294916,79.28956829,18.02294916 C79.28956829,18.02294916,78.67337071,19.81429434,78.67337071,19.81429434 C78.67337071,19.81429434,78.67337071,17.55143719,78.67337071,17.55143719 C78.67337071,17.55143719,78.67337071,14.34572291,78.67337071,14.34572291 C78.67337071,14.34572291,78.67337071,6.61429434,78.67337071,6.61429434 C78.67337071,5.04294916,78.18554762,3.61294916,77.20990145,2.32429434 C76.23425527,1.03572291,75.1045597,0.39143719,73.82081474,0.39143719 C73.82081474,0.39143719,91.84459404,0.39143719,91.84459404,0.39143719 C91.84459404,0.39143719,100.08623672,29.33715148,100.08623672,29.33715148 C100.08623672,29.33715148,101.39565658,33.95715148,101.39565658,33.95715148 C101.39565658,33.95715148,102.12739121,35.23000862,102.12739121,35.23000862 C102.12739121,35.23000862,103.39829873,35.74858005,103.39829873,35.74858005 C104.37394491,35.74858005,105.04149228,35.15143719,105.40094087,33.95715148Z M131.58933815,0.39143719 C130.30559319,0.39143719,129.21440997,1.03572291,128.31578849,2.32429434 C127.41716702,3.61294916,126.96785628,5.04294916,126.96785628,6.61429434 C126.96785628,6.61429434,126.96785628,60.16858005,126.96785628,60.16858005 C126.96785628,61.74000862,127.41716702,63.17000862,128.31578849,64.45858005 C129.21440997,65.74715148,130.30559319,66.39143719,131.58933815,66.39143719 C131.58933815,66.39143719,126.96785628,66.39143719,126.96785628,66.39143719 C126.96785628,66.39143719,121.26802863,66.39143719,121.26802863,66.39143719 C121.26802863,66.39143719,115.56820099,66.39143719,115.56820099,66.39143719 C115.56820099,66.39143719,113.41150945,66.39143719,113.41150945,66.39143719 C113.41150945,66.39143719,108.71300288,66.39143719,108.71300288,66.39143719 C110.04829985,66.39143719,111.16495576,65.74715148,112.06357724,64.45858005 C112.96188869,63.17000862,113.41150945,61.74000862,113.41150945,60.16858005 C113.41150945,60.16858005,113.41150945,22.45429434,113.41150945,22.45429434 C113.41150945,22.45429434,113.41150945,19.34294916,113.41150945,19.34294916 C113.41150945,19.34294916,112.75679952,17.50429434,112.75679952,17.50429434 C112.75679952,17.50429434,111.25481791,16.70294916,111.25481791,16.70294916 C110.27917174,16.70294916,109.61162435,17.3,109.25217576,18.49429434 C109.25217576,18.49429434,110.56159563,13.78000862,110.56159563,13.78000862 C110.56159563,13.78000862,114.25878113,0.39143719,114.25878113,0.39143719 C114.25878113,0.39143719,122.5004238,0.39143719,122.5004238,0.39143719 C122.5004238,0.39143719,126.96785628,0.39143719,126.96785628,0.39143719 C126.96785628,0.39143719,131.58933815,0.39143719,131.58933815,0.39143719Z " fill="#F9F0E6" transform="translate(-7, 0)"/> \
				</g> \
			</svg> \
		</span> \
		<i title="Scroll to Top" style="float: right; padding: 1em 1em 1em 0.25em !important; margin: 1em 1em 1em 0.25em !important; color: #F9F0E6; cursor: pointer; align-items: center; transform: translateY(5%); font-size: min(max(12px, 2vw), 18px)" class="fa fa-angle-double-up" id="scrollTopIc" onClick="scrollToTop()"></i> \
	</span> \
	<div id="footerElementMenu" class="footerElementMenuPanel"> \
		<span style="display: flex; \
		-webkit-box-pack: justify; \
		grid-column-start: col-start 1; \
		grid-column-end: span 4; \
		line-height: 1.6; \
		flex-direction: column;"> \
			<p style="margin: 0 1em 0 0; float: left; padding: 0 1em 0 1em; color: #F9F0E6; font-size: min(max(0.8em, 1vw), 1em); font-family: Cera Pro Thin; font-weight: 400; font-style: normal;">In a digital age where modern gentlemen are losing the true essence of luxury, HiM offers exclusive access to inspiring stories and unique conversations of like—minded refined men who share a passion for adventure.</p> \
			<span class="shareItems" style="margin: 0 1em 0 0; padding: 0 !important; justify-content:left; border-block-end:0; border-block-start:0;"> \
				<a title="Facebook" style="right: 0 !important; display: inline-flex; align-items: center; color: #F9F0E6; padding: 0 1em 0 1em; text-decoration: none; cursor: pointer;" onClick="shareSM(\'Facebook\')"> \
				<i id:"" class="fa fa-facebook"></i></a> \
				<a title="Instagram" style="right: 0 !important; display: inline-flex; align-items: center; color: #F9F0E6; padding: 0 1em 0 1em; text-decoration: none; cursor: pointer;" onClick="shareSM(\'Instagram\')"> \
				<i id:"" class="fa fa-instagram"></i></a> \
				<a title="X" style="right: 0 !important; display: inline-flex; align-items: center; color: #F9F0E6; padding: 0 1em 0 1em; text-decoration: none; cursor: pointer;" onClick="shareSM(\'Meetup\')"> \
				<i id:"" class="fa fa-meetup"></i></a> \
				<a title="Pinterest" style="right: 0 !important; display: inline-flex; align-items: center; color: #F9F0E6; padding: 0 1em 0 1em; text-decoration: none; cursor: pointer;" onClick="shareSM(\'Pinterest\')"> \
				<i id:"" class="fa fa-pinterest"></i></a> \
				<a title="YouTube" style="right: 0 !important; display: inline-flex; align-items: center; color: #F9F0E6; padding: 0 1em 0 1em; text-decoration: none; cursor: pointer;" onClick="shareSM(\'YouTube\')"> \
				<i id:"" class="fa fa-youtube-play"></i></a> \
			</span> \
		</span> \
		<span style="display: flex; \
		-webkit-box-pack: justify; \
		grid-column-start: col-start 7; \
		grid-column-end: span 2; \
		line-height: 1.6; \
		flex-direction: column;"> \
			<a title="LATEST" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'latest\')">LATEST</a> \
			<a title="EDITOR\'S PICK" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'editorspick\')">EDITOR\’S PICK</a> \
			<a title="STYLE" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'style\')">STYLE</a> \
			<a title="BUSINESS" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'business\')">BUSINESS</a> \
			<a title="HEALTH" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'health\')">HEALTH</a> \
		</span> \
		<span style="display: flex; \
		-webkit-box-pack: justify; \
		grid-column-start: col-start 9; \
		grid-column-end: span 2; \
		line-height: 1.6; \
		flex-direction: column;"> \
			<a title="GEAR" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'gear\')">GEAR</a> \
			<a title="TRAVEL" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'travel\')">TRAVEL</a> \
			<a title="ENTERTAINMENT" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'entertainment\')">ENTERTAINMENT</a> \
			<a title="SKILLS" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'skills\')">SKILLS</a> \
			<a title="PARENTING" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="openCategory(\'parenting\')">PARENTING</a> \
	</div> \
	<span style="display: inline-block; width: 100vw; align-items: center; margin-top: 1em; border-top: 1px solid#F9F0E6;"> \
		<p style="margin: 1em; float: left; padding: 1em; color: #F9F0E6; font-size: min(max(0.8em, 1vw), 1em); font-family: Cera Pro Thin; font-weight: 400; font-style: normal;">Copyright © 2023—2025 TheHiM. All rights reserved</p> \
		<span style="display: flex; \
		-webkit-box-pack: justify; \
		float: right; \
		padding: 1em; \
		margin: 1em;"> \
			<a title="PODCASTS" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="">PODCASTS</a> \
			<a title="SHOP" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="">SHOP</a> \
			<a title="HiM CLUB" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="gotoClub()">HiM CLUB</a> \
			<a title="MAGAZINE" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="gotoMagazine()">MAGAZINE</a> \
			<a title="ABOUT US" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="">ABOUT US</a> \
			<a title="CAREERS" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="">CAREERS</a> \
			<a title="CONTACT US" style="-webkit-box-pack: justify; \
			justify-content: left;" class="footerMenuItem" onClick="">CONTACT US</a> \
		</span> \
	</span> \
	').appendTo("#footerElement");
}

function loadHiMClub(insertButton) {
	$.getJSON(domain + '/magazine/magazine.json', function (data) {
		$.each(data, function(key, magazineIssues) {
			var magazineEditionStep = 1;
			
			let documentPath = window.location.href;
	
			if (window.location.pathname === '/' || window.location.pathname === '') {
				documentPath = domain + '/index.html';
			} else {
				documentPath = domain + window.location.pathname;
			}
			
			$("#magazineGridContainerImage").attr("src", magazineIssues[(magazineIssues.length-1)]["src"].replace("../",domain+"/")+"?rect=686,0,2724,3901&auto=format");
			$(' \
			<div id="" class="content-sc-masthead-magazineMastheadContent"> \
				<cat-ul itemscope="" itemtype="https://schema.org/BreadcrumbList" class="magazineMasterCategory"> \
					<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem" class="magazineMasterCategoryList"> \
						<a size="3" weight="2" font-family="Tex Gyre Termes" appearance="primary" itemprop="item" class="Link-style__Link-sc-1ce34e85-0 magazineMasterCategoryItem" href="#"> \
							<span itemprop="name">'+magazineIssues[(magazineIssues.length-1)]["issue"]+' Issue</span> \
						</a> \
					</li> \
				</cat-ul> \
				<h1 size="5" class="magazineMastheadTitle" style="margin: 0;">'+magazineIssues[(magazineIssues.length-1)]["title"]+'</h1> \
				<cat-ul itemscope="" itemtype="https://schema.org/BreadcrumbList" class="magazineMasterCategory"> \
					<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem" class="magazineMasterCategoryList"> \
						<a size="3" weight="2" font-family="Tex Gyre Termes" appearance="primary" itemprop="item" class="Link-style__Link-sc-1ce34e85-0 magazineMasterCategoryItem" href="#"> \
							<span itemprop="name">'+magazineIssues[(magazineIssues.length-1)]["edition"]+'</span> \
						</a> \
					</li> \
				</cat-ul> \
			</div> \
			').appendTo("#magazineGridContainerDescription");
			
			if (documentPath == domain || documentPath.substring(documentPath.lastIndexOf('/')+1) == "index.html" || insertButton) {
				$(' \
				<button size="3" class="masthead-sc-readNowButton" style="width: 50%; background-color: #111F4A; color: #F9F0E6;" onclick="gotoMagazine()" type="button">Read Now</button> \
				').appendTo("#magazineGridContainerDescription");
			} else {
				/* Do Nothing */
			}
			
			for (let issue = (magazineIssues.length-1); issue > (magazineIssues.length-5); issue--) {
				$(' \
				<img alt="" decoding="async" src="'+magazineIssues[issue]["src"].replace("../", domain+"/")+'?w=987&amp;h=1296&amp;q=80" style="aspect-ratio: 0.761574 / 1; grid-column-start: '+magazineEditionStep+' !important; grid-column-end: span 2 !important; min-height: auto; max-width: 100%;"> \
				').appendTo("#sectionMagazineEditions");
				
				magazineEditionStep += 2;
			}
		});
	});
}

function loadNewsletterRow() {
	$(' \
	<div size="2" class="newsletter-sc-content-jsxoGA"> \
		<div class="newsletter-sc-bgImage-gXZMSp"> \
			<img alt="Sign up to our newsletter" decoding="async" sizes="(max-width: 768px) 1000px, 2000px" src="'+domain+'/resources/pics/newsletter.jpg"> \
		</div> \
		<form name="newsletterSubmitForm" action="javascript:void(0);" class="newsletter-sc-form-gGmXcq"> \
			<div class="newsletter-sc-form-title-kDJFWl" style="padding: 0;"> \
				<div> \
					<h2 size="3" class="newsletter-sc-form-titleHeading-dZQaLi" style="margin-block-start: 0;">Emails, eh? We get it.</h2> \
				</div> \
			</div> \
			<div class="newsletter-sc-portableText-kezreA newsletter-sc-body-iLFnBJ"> \
				<p>Nobody ever regrets spending too little time in their inbox. But just like we lifestyle fun, we\'re doing the same for newsletters.</p> \
				<p>To receive the most inspiring stories and unique conversations of Mindsalike about luxurious fashion brands, unique accessories, expert health advice from TheHiM.</p> \
			</div> \
			<div class="newsletter-sc-fieldWrapper-hGNanE"> \
				<div id="newsletterValidationError" style="color: red; display: none;" class="newsletter-sc-portableText-kezreA newsletter-sc-body-iLFnBJ"><svg aria-hidden="true" focusable="false" data-prefix="fasr" data-icon="triangle-exclamation" class="svg-inline--fa fa-triangle-exclamation " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M27.4 432L0 480H55.3 456.7 512l-27.4-48L283.6 80.4 256 32 228.4 80.4 27.4 432zm401.9 0H82.7L256 128.7 429.3 432zM232 296v24h48V296 208H232v88zm48 104V352H232v48h48z"></path></svg><span> Name and E-Mail Required</span></div> \
				<div id="newsletterSubmitSuccess" style="color: green; display: none;" class="newsletter-sc-portableText-kezreA newsletter-sc-body-iLFnBJ"><svg aria-hidden="true" focusable="false" data-prefix="fasr" data-icon="triangle-exclamation" class="svg-inline--fa fa-triangle-exclamation " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M27.4 432L0 480H55.3 456.7 512l-27.4-48L283.6 80.4 256 32 228.4 80.4 27.4 432zm401.9 0H82.7L256 128.7 429.3 432zM232 296v24h48V296 208H232v88zm48 104V352H232v48h48z"></path></svg><span> Successfully Registered to Newsletter</span></div> \
				<div id="newsletterAlreadyRegistered" style="color: red; display: none;" class="newsletter-sc-portableText-kezreA newsletter-sc-body-iLFnBJ"><svg aria-hidden="true" focusable="false" data-prefix="fasr" data-icon="triangle-exclamation" class="svg-inline--fa fa-triangle-exclamation " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M27.4 432L0 480H55.3 456.7 512l-27.4-48L283.6 80.4 256 32 228.4 80.4 27.4 432zm401.9 0H82.7L256 128.7 429.3 432zM232 296v24h48V296 208H232v88zm48 104V352H232v48h48z"></path></svg><span> E-Mail Already Registered</span></div> \
				<div class="newsletter-sc-fieldWrapper-nameField-TOpbS"> \
					<div class="newsletter-sc-fieldWrapper-hGNanE"> \
						<div class="newsletter-sc-fieldWrapper-nameField-selectWrapper-cLrEFD"> \
							<select name="title" class="newsletter-sc-selectField-styled_select"> \
								<option value="Mr">Mr</option> \
								<option value="Mrs">Mrs</option> \
								<option value="Miss">Miss</option> \
								<option value="Ms">Ms</option> \
							</select> \
							<span class="newsletter-sc-selectField-styled_select-bPmekQ"> \
								<svg aria-hidden="true" focusable="false" data-prefix="fal" data-icon="angle-down" class="svg-inline--fa fa-angle-down " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"> \
									<path fill="currentColor" d="M212.7 331.3c6.2 6.2 16.4 6.2 22.6 0l160-160c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L224 297.4 75.3 148.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l160 160z"></path> \
								</svg> \
							</span> \
						</div> \
					</div> \
					<div class="newsletter-sc-fieldWrapper-hGNanE"> \
						<input name="first_name" id="first_name" placeholder="First Name" type="text" class="newsletter-sc-fieldWrapper-textField-ejZZtx" value=""> \
					</div> \
					<div class="newsletter-sc-fieldWrapper-hGNanE"> \
						<input name="last_name" id="last_name" placeholder="Last Name" type="text" class="newsletter-sc-fieldWrapper-textField-ejZZtx" value=""> \
					</div> \
				</div> \
			</div> \
			<div class="newsletter-sc-fieldWrapper-hGNanE"> \
				<input name="email" id="email" placeholder="Email" type="EMAIL" class="newsletter-sc-fieldWrapper-textField-ejZZtx" value=""> \
			</div> \
			<button size="2" class="newsletter-sc-form-submitButton-jsUped" onclick="validateNewsletterForm()">signup</button> \
		</form> \
	</div> \
	').appendTo("#newsletterjoqnTx");
}

function goToLogin() {
	window.open(domain + '/auth/login.html', '_self');
}

function setProfileIcon() {
	var spanShare = document.getElementById('spanShare');
	
	document.getElementById('userLogout').remove();
	
	$(' \
	<a id="userLogin" title="Profile" style="display:inline-flex;align-items:center;" class="top-download" onClick="javascript:document.dispatchEvent(new CustomEvent(\'customerLoggedOut\'))"> \
		<span class="avatar avatar-sm rounded-circle"> \
			<img alt="HiM Profile Picture" src="'+JSON.parse(localStorage.getItem('customerProfile'))['metadata']['profilePicture']+'"> \
		</span> \
	</a> \
	').appendTo(spanShare);
}

/* Customer is LoggedIn */
document.addEventListener("customerLoggedIn", (event) => {
    const customer = event.detail

    localStorage.setItem('customerLoggedIn', true);
    localStorage.setItem('customerProfile', JSON.stringify(customer));

    setProfileIcon();

    prepareProfile();

    /* HYASSIN: TO DO - Retrieve Active subscription */
    retrieveActiveSubscription(customer['id']).then((activeSubscriptions) => {
        if (activeSubscriptions.length > 0) {
            /* HYASSIN: TO DO - activate members-only features */
			membersOnlyActivated = true;
        } else {
            /* HYASSIN: TO DO - go to profile, and deactivate members-only features */
			membersOnlyActivated = false;
        }
    });
});

/* Customer Logout */
document.addEventListener("customerLoggedOut", () => {
    var spanShare = document.getElementById('spanShare');
    
    localStorage.removeItem('customerLoggedIn');
    localStorage.removeItem('customerProfile');
    
    document.getElementById('userLogin').remove();
    
    $(' \
    <a id="userLogout" title="Login/SignUp" style="display:inline-flex;align-items:center;" class="top-download" href="javascript:goToLogin()"> \
        <i id="" class="fa fa-user"></i> \
    </a> \
    ').appendTo(spanShare);
});

/**********************************************************
* 
**********************************************************/
const validateFN = (FN) => {
	return FN.match(/^[a-zA-Z]+$/);
};

const validateLN = (LN) => {
	return LN.match(/^[a-zA-Z]+$/);
};

const validateEM = (EM) => {
	return EM.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);
};

async function validateNewsletterForm() {
	var TL = document.forms["newsletterSubmitForm"]["title"].value,
	FN = document.forms["newsletterSubmitForm"]["first_name"].value,
	LN = document.forms["newsletterSubmitForm"]["last_name"].value,
	EM = document.forms["newsletterSubmitForm"]["email"].value;
	
	if (FN != null && FN != "" && LN != null && LN != "" && EM != null && EM != "") {
		if ((validateFN(FN) || validateLN(LN)) && validateEM(EM)) {
			await submitNewsletter(TL, FN, LN, EM);
			$("#newsletterValidationError").css({display: "none"});
		} else {
			$("#newsletterValidationError").css({display: "block"});
		}
	} else {
		$("#newsletterValidationError").css({display: "block"});
	}
}

async function submitNewsletter(TL, FN, LN, EM) {
	var newsletterSubscription = '{"title": "'+TL+'","firstName": "'+FN+'", "lastName": "'+LN+'", "email": "'+EM+'"}';

	registerToNewsletter(JSON.parse(newsletterSubscription),TL,FN,LN,EM);
}

async function getNewsletter(newsletter) {
	$.ajax({
        url: await getConfig('GITHUB_NEWSLETTER_URL'),
        beforeSend: async function(xhr) {
            xhr.setRequestHeader("Authorization", "Bearer "+window.atob(await getConfig('GITHUB_NEWSLETTER_TOKEN')), "Accept", "application/vnd.github+json, text/plain, */*")
        }, success: function(response){
            newsletter(response);
        }
	});

	return newsletter;
}

async function sendNewsletterConfirmationMail(TL, FN, LN, EM, htmlContent) {
	const messageParts = {
		to: EM,
		subject: "Welcome To TheHiM "+TL+". "+FN+"!",
		html: htmlContent
	};

	try {
		const response = await fetch("/sendNewsletterConfirmationMail", {
			method: "POST",
			headers: {
				'Content-Type': 'application/json'
			},
			body: JSON.stringify(messageParts)
		});

		if (response.ok) {
			const message = await response.text();
			if (message === 'Success') {
				setTimeout(() => {$('#newsletterSubmitSuccess').css({display: 'block'})}, 1);
				setTimeout(() => {$('#newsletterSubmitSuccess').css({display: 'none'})}, 5000);
			} else if (message === 'Failure') {
				alert('Failed to send the email.');
			}
		} else {
			alert('Unexpected error occurred.');
		}
	} catch (error) {
		alert(`Error: ${error.message}`);
	}
}

async function registerToNewsletter(newsletterSubscription,TL,FN,LN,EM) {
	await getNewsletter(async function(newsletter) {
		let newsletterContent = JSON.parse(window.atob(newsletter.content));
		
		let registeredAlert = false;
		for (let element = 0; element < newsletterContent['subscribers'].length; element++) {
			if (newsletterContent['subscribers'][element]['email'] != EM) {
				registeredAlert = false;
			} else {
				registeredAlert = true;
				break;
			}
		}

		if (!registeredAlert) {
			newsletterContent['subscribers'].push(newsletterSubscription);
			let encodedNewsletterSubscription = window.btoa(JSON.stringify(newsletterContent)); // encodeURIComponent
			const JSONData = '{"message":"'+EM+' Subscribed to Newsletter","committer":{"name":"HiM","email":"himjrnl@gmail.com"},"content":"'+encodedNewsletterSubscription+'","sha":"'+newsletter.sha+'"}';
			let response = await fetch(await getConfig('GITHUB_NEWSLETTER_URL'), {
				method: "PUT",
				cache: "no-cache",
				mode: "cors",
				headers: {
					'Authorization': 'Bearer '+window.atob(await getConfig('GITHUB_NEWSLETTER_TOKEN')),
					'Accept': 'application/vnd.github+json, *\/*',
					'Content-Type': 'application/json'
				},
				referrerPolicy: "no-referrer",
				redirect: "follow",
				body: JSONData
			});

			if (response.status == 200) {
				readFile(TL,FN,LN,EM);
			}

			$('#newsletterAlreadyRegistered').css({display: 'none'});
		} else {
			setTimeout("$('#newsletterAlreadyRegistered').css({display: 'block'})", 1);
			setTimeout("$('#newsletterAlreadyRegistered').css({display: 'none'})", 5000);
		}
	});
}

async function minifyCSS(cssFile) {
	const response = await fetch(domain + cssFile);
	const content = await response.text();
  	return content
		.replace(/\/\*[\s\S]*?\*\/|\/\/.*$/g, '')
		.replace(/\s+/g, ' ')
		.replace(/\s*([:;{}])\s*/g, '$1');
}

async function readFile(TL,FN,LN,EM) {
	await fetch(domain + "/newsletter/newsletterWelcome.html")
	.then((response) => response.text()
		.then((content) => {	
			$.getJSON(domain + '/magazine/magazine.json', function (data) {
				$.each(data, function(key, magazineIssues) {
					$.getJSON(domain + '/editorial/latest/latest.json', function (data) {
						$.each(data, async function(key, jsonARTICLE) {
							const referenceCATEGORY = domain + '/editorial/' + jsonARTICLE[0]['category'].replace(/\s/g, '').replace("'", '').toLowerCase() + '/' + jsonARTICLE[0]['category'].replace(/\s/g, '').replace("'", '').toLowerCase() + '.html';
							const referenceARTICLE = domain + '/' + jsonARTICLE[0]['docref'].replace(".json", ".html");
							var sortedARRAY = sortEditorialArticles(jsonARTICLE);
							var articlesARRAY = [];
							
							/* const featuredContent = ' \
								<cat-ul itemscope="" itemtype="https://schema.org/BreadcrumbList" class="magazineMasterCategory"> \
									<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem" class="magazineMasterCategoryList"> \
										<a size="3" weight="2" font-family="Tex Gyre Termes" appearance="primary" itemprop="item" class="Link-style__Link-sc-1ce34e85-0 magazineMasterCategoryItem" href="'+referenceCATEGORY+'"> \
											<span id="journalHomeFeatureCategory" itemprop="name">'+jsonARTICLE[0]['category']+'</span> \
										</a> \
									</li> \
								</cat-ul> \
								<h1 size="5" id="journalHomeFeatureTitle" class="magazineMastheadTitle" style="margin: 0; color: white;">'+jsonARTICLE[0]['title']+'</h1> \
								<h2 size="1" id="journalHomeFeatureExcerpt" class="magazineMastheadExcerpt" style="margin: 2em 0; color: white; margin-block-start: 0.3em; margin-block-end: 0.3em;">'+jsonARTICLE[0]['excerpt']+'</h2> \
								<cat-ul itemscope="" itemtype="https://schema.org/BreadcrumbList" class="magazineMasterCategory"> \
									<li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem" class="magazineMasterCategoryList"> \
										<a size="3" weight="2" font-family="Tex Gyre Termes" appearance="primary" itemprop="item" class="Link-style__Link-sc-1ce34e85-0 magazineMasterCategoryItem" href="'+referenceARTICLE+'"> \
											<span itemprop="name">READ MORE</span> \
										</a> \
										<svg aria-hidden="true" focusable="false" data-prefix="fat" data-icon="angle-right" class="svg-inline--fa fa-angle-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"> \
											<path fill="currentColor" d="M269.7 250.3c3.1 3.1 3.1 8.2 0 11.3l-176 176c-3.1 3.1-8.2 3.1-11.3 0s-3.1-8.2 0-11.3L252.7 256 82.3 85.7c-3.1-3.1-3.1-8.2 0-11.3s8.2-3.1 11.3 0l176 176z"></path> \
										</svg> \
										<meta itemprop="position" content="1"> \
									</li> \
								</cat-ul> \
							';
							
							const featuredContentBackground = ' \
							<div style="opacity: 1;"> \
								<picture style="bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:100%"> \
									<img style="width: 100vw;" alt="'+jsonARTICLE[0]['featuredContent'][0]['alt']+'" src="'+jsonARTICLE[0]['featuredContent'][0]['src']+'" width="100vw"> \
								</picture> \
							</div> \
							'; */
							
							const latestArticlesHeader = ' \
							<th colspan="1"> \
								<div class="content-sc-furtherReadingTitle" style="justify-content: space-between !important;"> \
									<h1 style="font-weight: 400; text-transform: none; font-family: \'Chronicle Display Semibold\';" size="1">The Latest</h1> \
								</div> \
							</th>';
							
							if (sortedARRAY.length < 3) {
								/* Do nothing */
							} else {
								for (let key = 1; key < 4; key++) {
									var reference = sortedARRAY[key]['docref'].substr(0, sortedARRAY[key]['docref'].lastIndexOf(".")) + ".html",
									articleDATE = checkArticleDATE(sortedARRAY[key]);
									
									articlesARRAY.push(' \
										<td class="stack-column" width="33%" style="vertical-align: top;"> \
										<!--[if mso]> \
											<v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" style="width:33%;height:180px;"> \
												<v:fill type="frame" alt="'+sortedARRAY[key]["featuredContent"][0]["alt"]+'" decoding="async" sizes="(max-width: 640px) 410px, 820px" src="'+sortedARRAY[key]["featuredContent"][0]["src"]+'" color="#333" /> \
												<v:textbox inset="0,0,0,0" style="mso-fit-shape-to-text:true;"> \
											<![endif]--> \
											<a class="content-sc-furtherReading-postGrid-postExcerpt-kuccfR" href="'+domain+'/'+reference+'"> \
												<div type="rectangle" size="4" class="content-sc-furtherReading-postGrid-postExcerpt-thumbnail-NrRzK"> \
													<img alt="'+sortedARRAY[key]["featuredContent"][0]["alt"]+'" decoding="async" sizes="(max-width: 640px) 410px, 820px" src="'+sortedARRAY[key]["featuredContent"][0]["src"]+'" style="inset: 0px; height: 100%; object-fit: cover; position: absolute; width: 100%;"> \
												</div> \
												<div class="content-sc-furtherReading-postGrid-postExcerpt-body-gTXfgv"> \
													<div class="content-sc-furtherReading-postGrid-postExcerpt-category-dLpoZD">'+sortedARRAY[key]["category"]+'<span class="content-sc-furtherReading-postGrid-postExcerpt-date-dGfbVg"> — '+articleDATE+'</span></div> \
													<div class="content-sc-furtherReading-postGrid-postExcerpt-title-kITLCM"> \
														<h2 size="1" class="content-sc-furtherReading-postGrid-postExcerpt-titleHeading-bhRlhf">'+sortedARRAY[key]["title"]+'</h2> \
													</div> \
												</div> \
											</a> \
											<!--[if mso]> \
												</v:textbox> \
											</v:rect> \
											<![endif]--> \
										</td> \
									');
								}
							}
										
							const latestMagazine = ' \
							<div id="" class="content-sc-masthead-magazineMastheadContent"> \
								<ul class="magazineMasterCategory" style="padding: 0 !important; margin: 0 !important; list-style-type: none; text-align: left !important; padding-inline-start: 0 !important;"> \
									<li class="magazineMasterCategoryList" style="margin-left: 0 !important;"> \
										<a size="3" weight="2" font-family="Tex Gyre Termes" appearance="primary" itemprop="item" class="Link-style__Link-sc-1ce34e85-0 magazineMasterCategoryItem" href="#"> \
											<span itemprop="name">'+magazineIssues[(magazineIssues.length-1)]["issue"]+' Issue</span> \
										</a> \
									</li> \
								</ul> \
								<h1 size="5" class="magazineMastheadTitle" style="margin: 0;">'+magazineIssues[(magazineIssues.length-1)]["title"]+'</h1> \
								<ul class="magazineMasterCategory" style="padding: 0 !important; margin: 0 !important; list-style-type: none; text-align: left !important; padding-inline-start: 0 !important;"> \
									<li class="magazineMasterCategoryList" style="margin-left: 0 !important;"> \
										<a size="3" weight="2" font-family="Tex Gyre Termes" appearance="primary" itemprop="item" class="Link-style__Link-sc-1ce34e85-0 magazineMasterCategoryItem" href="#"> \
											<span itemprop="name">'+magazineIssues[(magazineIssues.length-1)]["edition"]+'</span> \
										</a> \
									</li> \
								</ul> \
								<button size="3" class="masthead-sc-readNowButton" style="width: 100%; \
								background-color: #111F4A; \
								color: #F9F0E6;" onclick="window.location.href=\''+domain+'/magazine/magazine.html\'" type="button">Read Now</button> <!-- onclick="goToLogin()" --> \
							</div> \
							';
							
							const magazineEditions = ' \
							<table role="presentation" width="600" cellspacing="0" cellpadding="0" border="0" style="border-collapse: collapse;"> \
								<tr> \
									<td align="center" width="25%"> \
										<img width="100%" alt="" decoding="async" src="'+magazineIssues[(magazineIssues.length-2)]["src"].replace("../", "https://raw.githubusercontent.com/hgyassin/himjrnl/master/")+'" width="150" style="display: block; border: 0; outline: none; text-decoration: none; max-width: 100%; height: auto;"> \
									</td> \
									<td align="center" width="25%"> \
										<img width="100%" alt="" decoding="async" src="'+magazineIssues[(magazineIssues.length-3)]["src"].replace("../", "https://raw.githubusercontent.com/hgyassin/himjrnl/master/")+'" width="150" style="display: block; border: 0; outline: none; text-decoration: none; max-width: 100%; height: auto;"> \
									</td> \
									<td align="center" width="25%"> \
										<img width="100%" alt="" decoding="async" src="'+magazineIssues[(magazineIssues.length-4)]["src"].replace("../", "https://raw.githubusercontent.com/hgyassin/himjrnl/master/")+'" width="150" style="display: block; border: 0; outline: none; text-decoration: none; max-width: 100%; height: auto;"> \
									</td> \
									<td align="center" width="25%"> \
										<img width="100%" alt="" decoding="async" src="'+magazineIssues[(magazineIssues.length-5)]["src"].replace("../", "https://raw.githubusercontent.com/hgyassin/himjrnl/master/")+'" width="150" style="display: block; border: 0; outline: none; text-decoration: none; max-width: 100%; height: auto;"> \
									</td> \
								</tr> \
							</table>';

							const unsubscribeLink = domain + '/index.html?q='+window.btoa('newsletterUnsubscribe')+'&e='+window.btoa(EM)+'&auth=BEabCiECrci9cE8ciYW3doBcn6BoOmEeqGcDE7';

							const newsletterContent = content
							/* .replace(/{{ featuredContent }}/i, featuredContent)
							.replace(/{{ featuredContentBackground }}/i, featuredContentBackground) */
							.replace(/{{ latestArticlesHeader }}/i, latestArticlesHeader)
							.replace(/{{ latestArticles }}/i, articlesARRAY.toString().replace(/,/g,''))
							.replace(/{{ latestMagazine }}/i, latestMagazine)
							.replace(/{{ magazineEditions }}/i, magazineEditions)
							.replace(/{{ magazineGridContainerImageSrc }}/i, magazineIssues[(magazineIssues.length-1)]["src"].replace("../","https://raw.githubusercontent.com/hgyassin/himjrnl/master/"))
							.replace(/{{ unsubscribeLink }}/i, unsubscribeLink)
							.toString();
	
							/* const newWindow = window.open('', '_blank');
            				newWindow.document.write(newsletterContent);
            				newWindow.document.close(); */

							sendNewsletterConfirmationMail(TL,FN,LN,EM,newsletterContent);
						});
					});
				});
			});
		})
	);
}

async function newsletterUnsubscribe(unsubscribeEmail) {
	alert("Unsubscribed " + unsubscribeEmail);
	/* await getNewsletter(async function(newsletter) {
		let newsletterContent = JSON.parse(window.atob(newsletter.content));
		let unsubscribeAlert = false;
		for (let element = 0; element < newsletterContent['subscribers'].length; element++) {
			if (newsletterContent['subscribers'][element]['email'] === unsubscribeEmail) {
				newsletterContent['subscribers'].splice(element, 1);
				unsubscribeAlert = true;
				break;
			} else {
				unsubscribeAlert = false;
			}
		}

		if (unsubscribeAlert) {
			let encodedNewsletterSubscription = window.btoa(JSON.stringify(newsletterContent)); // encodeURIComponent
			const JSONData = '{"message":"'+unsubscribeEmail+' Unsubscribed from Newsletter","committer":{"name":"HiM","email":"himjrnl@gmail.com"},"content":"'+encodedNewsletterSubscription+'","sha":"'+newsletter.sha+'"}';
			
			let response = await fetch(await getConfig('GITHUB_NEWSLETTER_URL'), {
				method: "PUT", // *GET, POST, PUT, DELETE, etc.
				cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
				mode: "cors", // no-cors, *cors, same-origin
				headers: {
					'Authorization': 'Bearer '+window.atob(await getConfig('GITHUB_NEWSLETTER_TOKEN')),
					'Accept': 'application/vnd.github+json, *\/*',
					'Content-Type': 'application/json'
				},
				referrerPolicy: "no-referrer", // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
				redirect: "follow", // manual, *follow, error
				body: JSONData
			});

			if (response.status == 200) {
				// Show Unsubscribed Successfully
			}
		} else {
			// Show Error at Unsubscription
		}
	}); */
}

function parseUrl() {
	var parsedUrl = new URL(decodeURIComponent(window.location)), // ?q=bmV3c2xldHRlclVuc3Vic2NyaWJl&e=aGVzaGFtZ3lhc3NpbkBnbWFpbC5jb20=&auth=BEabCiECrci9cE8ciYW3doBcn6BoOmEeqGcDE7
	q = window.atob(parsedUrl.searchParams.get("q")),
	e = window.atob(parsedUrl.searchParams.get("e")),
	auth = parsedUrl.searchParams.get("auth");
	if (q && e && auth) {
		if (auth == "BEabCiECrci9cE8ciYW3doBcn6BoOmEeqGcDE7") {
			window[q](e);
		} else {
			alert("auth not matching");
		}
	} else {

	}
}

async function getConfig(key) {
	try {
		const response = await fetch("/getConfig", {
			method: "GET",
			headers: {
				'Content-Type': 'application/json'
			}
		});

		if (response.ok) {
			const data = await response.json();
			if (data.hasOwnProperty(key)) {
				return data[key];
			} else {
				alert('Couldn\'t find element:', key);
			}
		} else {
			alert('Unexpected error occurred.');
		}
	} catch (error) {
		alert(`Error getting Config: ${error.message}`);
	}
}